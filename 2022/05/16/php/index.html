<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="PHP">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>PHP基础 | 执笔丨梨花落</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.2"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">执笔丨梨花落</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">执笔丨梨花落</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/weihan-wu" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/weihan-wu" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/6.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">PHP基础</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                                <span class="chip bg-color">学习笔记</span>
                            </a>
                        
                            <a href="/tags/PHP/">
                                <span class="chip bg-color">PHP</span>
                            </a>
                        
                            <a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">
                                <span class="chip bg-color">后端开发</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/PHP/" class="post-category">
                                PHP
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-05-16
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-05-16
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    26.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    121 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h1><h2 id="PHP概述"><a href="#PHP概述" class="headerlink" title="PHP概述"></a>PHP概述</h2><h3 id="PHP代表含义的演变"><a href="#PHP代表含义的演变" class="headerlink" title="PHP代表含义的演变"></a>PHP代表含义的演变</h3><p>**Personal Home Page **——个人主页</p>
<p><strong>PHP: Hypertext Preprocessor</strong>——PHP:超文本预处理器</p>
<h3 id="PHP语言的特性"><a href="#PHP语言的特性" class="headerlink" title="PHP语言的特性"></a>PHP语言的特性</h3><h4 id="实用性"><a href="#实用性" class="headerlink" title="实用性"></a><strong>实用性</strong></h4><p>从一开始PHP就是以实用性为目的创建的；</p>
<h4 id="强大功能"><a href="#强大功能" class="headerlink" title="强大功能"></a><strong>强大功能</strong></h4><p>PHP有200多个库，超过1000个功能以及成千上万个第三方的扩展；</p>
<h4 id="数据库支持"><a href="#数据库支持" class="headerlink" title="数据库支持"></a><strong>数据库支持</strong></h4><p>PHP支持25种以上的数据库，目前对主流的数据库都可以支持；</p>
<h4 id="成本"><a href="#成本" class="headerlink" title="成本"></a>成本</h4><p>PHP是免费的，对使用、修改和再分发没有任何限制。</p>
<h2 id="PHP基础"><a href="#PHP基础" class="headerlink" title="PHP基础"></a>PHP基础</h2><h3 id="Web页面中嵌入PHP代码"><a href="#Web页面中嵌入PHP代码" class="headerlink" title="Web页面中嵌入PHP代码"></a>Web页面中嵌入PHP代码</h3><h4 id="默认语法"><a href="#默认语法" class="headerlink" title="默认语法"></a><strong>默认语法</strong></h4><ul>
<li>以**&lt;?php** 作为开头</li>
<li>以 <strong>?&gt;</strong> 作为结尾</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php echo &#39;hello world&#39;?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="短标签"><a href="#短标签" class="headerlink" title="短标签"></a><strong>短标签</strong></h4><ul>
<li>以 **&lt;?**开头</li>
<li>以**?&gt;** 结尾</li>
</ul>
<p>需要启用php的short_open_tag指令，该值默认为Off，不建议采用。</p>
<p>推荐方式：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;使用
&lt;?&#x3D; &#39;hello world&#39; ?&gt;
&#x2F;&#x2F;代替
&lt;?php echo &#39;hello world&#39;?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a><strong>脚本</strong></h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;script language&#x3D;&quot;php&quot;&gt;
echo &quot;hello world&quot; ;
&lt;&#x2F;script&gt;&#x2F;&#x2F;亲测无效，课件准确度存疑，可能是运行环境不同，避免使用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="asp风格"><a href="#asp风格" class="headerlink" title="asp风格"></a><strong>asp风格</strong></h4><ul>
<li>以**&lt;%** 开头</li>
<li>以**%&gt;**结尾</li>
</ul>
<p>需要启用php的asp_tags 指令，该值默认为Off，不建议采用。</p>
<hr>
<p>我们可以在Web页面中嵌入多个代码块</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;&lt;?&#x3D; &#39;这是标题&#39;?&gt;&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;
        当前时间：&lt;?&#x3D; date(&quot;Y-m-d H:i:s&quot;) ?&gt;
        &lt;br&gt;
    &lt;?php
        printf(&#39;班级有%d人&#39;,70);
        echo &quot;&lt;br&gt;&quot;;

        $msg &#x3D; sprintf(&#39;班级有%d人&#39;,70);
        echo &#39;php&#39;,$msg;
        echo &quot;&lt;br&gt;&quot;;

         print_r([1,2,3]);
         echo &quot;&lt;br&gt;&quot;;
         var_dump([1,2,3]);
    ?&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>date()函数输出的时间可能因时区不同导致不准确</p>
<p>修改时区方式：</p>
<p>修改wampserver/bin/apache/apache2.4.18/bin/php.ini配置：</p>
<p>date.timezone=“Asia/Shanghai” 或者 date.timezone=“PRC” </p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><h4 id="单行注释语法"><a href="#单行注释语法" class="headerlink" title="单行注释语法"></a>单行注释语法</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;常规注释方式
#Shell脚本注释方式<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="多行注释语法"><a href="#多行注释语法" class="headerlink" title="多行注释语法"></a><strong>多行注释语法</strong></h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;*多行
  注释*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="向浏览器输出数据"><a href="#向浏览器输出数据" class="headerlink" title="向浏览器输出数据"></a>向浏览器输出数据</h3><h4 id="print语句"><a href="#print语句" class="headerlink" title="print语句"></a>print语句</h4><p>print()语句的返回值容易误导，返回值永远是1。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php print(1) ?&gt;&#x2F;&#x2F;1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="echo语句"><a href="#echo语句" class="headerlink" title="echo语句"></a><strong>echo语句</strong></h4><p>可以输出多个字符串，中间用逗号隔开</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php echo &#39;hello&#39;,&quot;world&quot; ?&gt;&#x2F;&#x2F;helloworld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>echo和print可以互换，但是echo速度比print稍微快一点，因为什么都不返回</p>
<h4 id="var-dump语句"><a href="#var-dump语句" class="headerlink" title="var_dump语句"></a><strong>var_dump</strong>语句</h4><p>该语句仅用于调试输出</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$name&#x3D;&#39;wwh&#39;;
	var_dump($name);
	&#x2F;&#x2F;D:\wamp64\www\hello.php:7:string &#39;wwh&#39; (length&#x3D;3)

	$num&#x3D;1;
	var_dump($num);
	&#x2F;&#x2F;D:\wamp64\www\hello.php:9:int 1

	var_dump([1,2,3]);
    &#x2F;&#x2F;D:\wamp64\www\test.php:21:
    &#x2F;&#x2F;array (size&#x3D;3)
    &#x2F;&#x2F;  0 &#x3D;&gt; int 1
    &#x2F;&#x2F;  1 &#x3D;&gt; int 2
    &#x2F;&#x2F;  2 &#x3D;&gt; int 3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="printf语句"><a href="#printf语句" class="headerlink" title="printf语句"></a>printf语句</h4><p>返回值为整数</p>
<p>常用的类型占位符：</p>
<ul>
<li>%d 将参数当作整数，显示为十进制数</li>
<li>%o 将参数当作整数，显示为八进制数</li>
<li>%x 将参数当作整数，显示为十六进制数</li>
<li>%f 将参数当做浮点数，显示为浮点数</li>
<li>%s 将参数当做字符串，显示为字符串</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	printf(&#39;班级有%d人&#39;,70);&#x2F;&#x2F;班级有70人

	printf(&quot;%.2f*%d&#x3D;%.2f&quot;,0.03,10,0.3);&#x2F;&#x2F;0.03*10&#x3D;0.30
	&#x2F;&#x2F;.2f保留两位小数

	printf(&quot;今天的日期是%s&quot;,date(&quot;Y-m-d H:i:s&quot;));&#x2F;&#x2F;今天的日期是2021-03-06 16:15:17

	print_r([1,2,3]);
	&#x2F;&#x2F;Array ( [0] &#x3D;&gt; 1 [1] &#x3D;&gt; 2 [2] &#x3D;&gt; 3 )
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="sprintf语句"><a href="#sprintf语句" class="headerlink" title="sprintf语句"></a><strong>sprintf语句</strong></h4><p>返回值为字符串，功能与printf相同</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$msg &#x3D; sprintf(&#39;班级有%d人&#39;,70);
	echo &#39;php&#39;,$msg;&#x2F;&#x2F;php班级有70人
?&gt;	<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>PHP有8种数据类型</p>
<ul>
<li>标量类型4种：布尔类型、整型、浮点型、字符串</li>
<li>复合类型2种：数组、对象</li>
<li>特殊类型2种：资源类型和NULL</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $age&#x3D;18;
    var_dump($age);

    $flag&#x3D;true;
    var_dump($flag);

    $pi &#x3D; 3.14;
    var_dump($pi);

    $name&#x3D;&quot;zhangsan&quot;;
    var_dump($name);

    $user&#x3D;null;
    var_dump($user);
?&gt;
&#x2F;*
    D:\wamp64\www\dataType.php:3:int 18
    D:\wamp64\www\dataType.php:6:boolean true
    D:\wamp64\www\dataType.php:9:float 3.14
    D:\wamp64\www\dataType.php:12:string &#39;zhangsan&#39; (length&#x3D;8)
    D:\wamp64\www\dataType.php:15:null
*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="类型强制转换"><a href="#类型强制转换" class="headerlink" title="类型强制转换"></a>类型强制转换</h4><p>将一个变量强制转换为与原类型不同的另一种类型，称为类型强制转换。</p>
<p><strong>第一种转换方式</strong></p>
<p>(bool)或者(boolean) 、 (int)或者(integer) 、 (real)或者(double)</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$pi&#x3D;3.14;
	var_dump((int)$pi);
    var_dump((integer)$pi);
    &#x2F;*D:\wamp64\www\dataType.php:18:int 3
    D:\wamp64\www\dataType.php:19:int 3*&#x2F;

	&#x2F;&#x2F;php的数据类型无单双精度之分
	$age&#x3D;18;
	var_dump((float)$age);
    var_dump((double)$age);
    &#x2F;*D:\wamp64\www\dataType.php:22:float 18
    D:\wamp64\www\dataType.php:23:float 18*&#x2F;

	&#x2F;&#x2F;只有0与空字符串的值会转换成false
    var_dump((bool)1);
    var_dump((boolean)1);
    var_dump((bool)0);
    var_dump((bool)&quot;&quot;);
	&#x2F;*D:\wamp64\www\dataType.php:26:boolean true
    D:\wamp64\www\dataType.php:27:boolean true
    D:\wamp64\www\dataType.php:28:boolean false
    D:\wamp64\www\dataType.php:29:boolean false*&#x2F;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>第二种转换方式</strong></p>
<p>调用intval() 、floatval() 、 strval() 、boolvar()等函数</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;调用方法转换数据类型
    $pi &#x3D; 3.14;
    var_dump(intval(3.14));
    &#x2F;&#x2F;D:\wamp64\www\dataType.php:33:int 3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>第三种转换方式</strong></p>
<p><strong>调用settype()函数转换数据类型</strong></p>
<p>string gettype(mixed var) 返回值有8种可能值：</p>
<p>array、boolean、double、integer、object、resource、string和unknown type</p>
<p><strong>与其相关的函数有：</strong></p>
<p><strong>调用gettype()函数获取数据类型</strong></p>
<p>string gettype(mixed var) 返回值有8种可能值：</p>
<p>array、boolean、double、integer、object、resource、string和unknown type</p>
<p><strong>调用类型标识符函数确定变量的函数</strong></p>
<p>is_array()、is_bool()、is_float()、is_integer()、is_null()、is_numeric()、</p>
<p>is_resource()、is_scalar()和is_string()</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;调用函数转换数据类型
    $pi &#x3D; 3.14;
    settype($pi,&quot;double&quot;);

    &#x2F;&#x2F;获取数据类型
    var_dump(gettype($pi));
    &#x2F;&#x2F;D:\wamp64\www\dataType.php:36:string &#39;double&#39; (length&#x3D;6)

	&#x2F;&#x2F;判断是不是所求数据类型
    var_dump(is_bool($pi));
    var_dump(is_float(3.14));
	&#x2F;*D:\wamp64\www\dataType.php:39:boolean false
	D:\wamp64\www\dataType.php:40:boolean true*&#x2F;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p><strong>标识符</strong>是<strong>变量</strong>、<strong>函数</strong>和其它各种用户<strong>定义对象</strong>通用的术语。</p>
<p>PHP标识符必须满足以下性质：</p>
<ul>
<li>标识符可以由一个或多个字符组成，必须以<strong>字母或下划线开头</strong>，标识符只能由<strong>字母、下划线、数字</strong>组成。非法的标识符：4w，t&amp;b，!b</li>
<li>标识符区分大小写</li>
<li>标识符可以是任意长度</li>
<li>标识符名不能与任何PHP预定义关键字相同</li>
</ul>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h4><ul>
<li>变量总是以$开头，然后是变量名，变量名遵守标识符命名规则</li>
<li>变量是区分大小写的 $color，$Color是不同的</li>
<li>同C语言不同，不需要显式声明变量</li>
</ul>
<h4 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h4><p><strong>按值赋值</strong> 将赋值表达式的值复制到变量 $color = “red”;</p>
<p><strong>引用赋值</strong> 两个变量指向同一个内容</p>
<ol>
<li>在等号后加&amp; 符号可以完成引用赋值</li>
<li>将&amp;符号放在所引用变量的前面</li>
</ol>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    &#x2F;&#x2F;按引用赋值
    $name &#x3D; &#39;zhangsan&#39;;
    $name2&#x3D;&amp; $name;
    var_dump($name,$name2);
    &#x2F;*D:\wamp64\www\var.php:5:string &#39;zhangsan&#39; (length&#x3D;8)
	D:\wamp64\www\var.php:5:string &#39;zhangsan&#39; (length&#x3D;8)*&#x2F;
    
	&#x2F;&#x2F;当改变引用的变量的值时，被引用的对象的值也会一起改变
    $name2&#x3D;&#39;lisi&#39;;
    var_dump($name,$name2);
	&#x2F;*D:\wamp64\www\var.php:8:string &#39;lisi&#39; (length&#x3D;4)
	D:\wamp64\www\var.php:8:string &#39;lisi&#39; (length&#x3D;4)*&#x2F;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以调用isset()函数来判断一个变量是否有被定义</p>
<p>可以调用unset()函数来销毁一个变量</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;判断一个变量是否有定义
    $username&#x3D;&#39;wangwu&#39;;
    var_dump(isset($username));
    &#x2F;&#x2F;销毁变量
    unset($username);
    var_dump(isset($username));
    &#x2F;*D:\wamp64\www\var.php:12:boolean true
	D:\wamp64\www\var.php:15:boolean false*&#x2F;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h4><p>变量作用域有4种：局部变量、函数参数、全局变量、静态变量。</p>
<h5 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h5><p>在函数外声明的变量，但是在函数内不能使用使用。</p>
<p>要能在函数内使用，可以使用两种方式：</p>
<ol>
<li>在函数内，全局变量前面加global关键字</li>
<li>使用$GLOBALS数组</li>
</ol>
<h5 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h5><p>在函数内声明的变量。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
$out &#x3D; &#39;全局变量&#39;;
    function show()&#123;
        &#x2F;&#x2F;在函数内无法直接访问全局变量，需要加上global关键字
        global $out;
        $in &#x3D; &#39;内部变量&#39;;
        echo $in,&#39;&lt;br&gt;&#39;,$out,&#39;&lt;br&gt;&#39;;
    &#125;
    &#x2F;&#x2F;调用函数
    show();
	&#x2F;*内部变量
	全局变量*&#x2F;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h5><p>在函数名后面的括号内声明的变量。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;传参
    function add($num)&#123;
        echo $num+1,&#39;&lt;br&gt;&#39;;
    &#125;
    add(2);&#x2F;&#x2F;3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h5><p>静态变量在函数退出时不会丢失值，并且还能保留值以便下次使用。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    function show_add()&#123;
    	&#x2F;&#x2F;不加static关键字
        $num &#x3D; 1;
        $num++;
        echo $num;
    &#125;
    show_add();&#x2F;&#x2F;2
    show_add();&#x2F;&#x2F;2
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	function show_add()&#123;
        &#x2F;&#x2F;加上static关键字会保留该变量的值
        static $num &#x3D; 1;
        $num++;
        echo $num;
    &#125;
    show_add();&#x2F;&#x2F;2
    show_add();&#x2F;&#x2F;3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a><strong>超全局变量</strong></h4><p>共有9个， $ _GET、$ _POST、$ _COOKIE、$ _SESSION、$ _REQUEST、</p>
<p> $ _SERVER 、$ _FILES、$ _ENV、$GLOBALS 。 </p>
<hr>
<h5 id="GET"><a href="#GET" class="headerlink" title="$_GET"></a><strong>$_GET</strong></h5><p>表单get方法提交和url参数传递的参数信息。</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&#x2F;&#x2F;表单页面form.html
&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;
    &lt;!--设置请求路径与请求方式--&gt;
    &lt;form action&#x3D;&quot;get.php&quot; method&#x3D;&quot;get&quot;&gt;
        &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot;&gt;
        &lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;pwd&quot;&gt;
        &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;
    &lt;&#x2F;form&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;

&#x2F;&#x2F;获取信息页面get.php
&lt;?php
    &#x2F;&#x2F;用$_GET[&quot;name&quot;]获取表单页面输入框的name
    echo &quot;您的用户名为：&quot;,$_GET[&quot;username&quot;],&quot;&lt;br&gt;&quot;,&quot;您的密码为：&quot;,$_GET[&quot;pwd&quot;];
    ?&gt;
&#x2F;*在表单页面输入 wwh 123 点击提交
跳转页面输出：
    您的用户名为：wwh
    您的密码为：123
	url为http:&#x2F;&#x2F;localhost&#x2F;get.php?username&#x3D;wwh&amp;pwd&#x3D;123*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="POST"><a href="#POST" class="headerlink" title="$_POST"></a><strong>$_POST</strong></h5><p>包含用POST方法传递的参数有关的信息。</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&#x2F;&#x2F;表单页面form.html
&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;
    &lt;!--设置请求路径与请求方式--&gt;
    &lt;form action&#x3D;&quot;get.php&quot; method&#x3D;&quot;post&quot;&gt;
        &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot;&gt;
        &lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;pwd&quot;&gt;
        &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;
    &lt;&#x2F;form&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;

&#x2F;&#x2F;获取信息页面get.php
&lt;?php
    &#x2F;&#x2F;用$_POST[&quot;name&quot;]获取表单页面输入框的name
    echo &quot;您的用户名为：&quot;,$_POST[&quot;username&quot;],&quot;&lt;br&gt;&quot;,&quot;您的密码为：&quot;,$_POST[&quot;pwd&quot;];
    ?&gt;
&#x2F;*在表单页面输入 wwh 123 点击提交
跳转页面输出：
    您的用户名为：wwh
    您的密码为：123
	url为http:&#x2F;&#x2F;localhost&#x2F;get.php*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="COOKIE"><a href="#COOKIE" class="headerlink" title="$_COOKIE"></a><strong>$_COOKIE</strong></h5><p>包含通过cookie传递到脚本的信息。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;设置cookie的语法
setcookie(name, value, expire, path, domain);
&#x2F;&#x2F;setcookie() 函数必须位于 &lt;html&gt; 标签之前。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>cookie的设置、输出、查询、删除</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    &#x2F;&#x2F;创建名为&quot;user&quot;的cookie，赋值为&quot;wwh&quot;，并且规定在一个小时后过期
    setcookie(&quot;user&quot;, &quot;wwh&quot;, time()+3600);
?&gt;
    
&#x2F;&#x2F;我们可以输出cookie的值，查询所有的cookie 
&lt;?php
    &#x2F;&#x2F; 输出 cookie 值
    echo $_COOKIE[&quot;user&quot;],&quot;&lt;br&gt;&quot;;&#x2F;&#x2F;wwh

    &#x2F;&#x2F; 查看所有 cookie
    print_r($_COOKIE).&quot;&lt;br&gt;&quot;;
&#x2F;&#x2F;Array ( [pgv_pvid] &#x3D;&gt; 5955341951 [Phpstorm-b7fdd1cd] &#x3D;&gt; d8af5289-f091-4294-bf94-149ee97da1a7 [user] &#x3D;&gt; wwh ) 
	&#x2F;&#x2F;为删除cookie，将cookie的时间设置为负，则cookie过期自动删除
	setcookie(&quot;user&quot;, &quot;&quot;, time()-3600);

?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在网页中，可以使用isset()函数来确认是否已经设置了cookie</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;html&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;
    &lt;title&gt;welcome&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;

&lt;?php
if (isset($_COOKIE[&quot;user&quot;]))
    echo &quot;欢迎 &quot; . $_COOKIE[&quot;user&quot;] . &quot;!&lt;br&gt;&quot;;
else
    echo &quot;普通访客!&lt;br&gt;&quot;;
?&gt;

&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="SESSION"><a href="#SESSION" class="headerlink" title="$_SESSION"></a>$_SESSION</h5><p>包含与会话变量有关的信息。</p>
<p>Session 的工作机制是：为每个访客创建一个唯一的 id (UID)，并基于这个 UID 来存储变量。UID 存储在 cookie 中，或者通过 URL 进行传导。</p>
<p>在把用户信息存储到session 中之前，首先要使用session_start()函数启动会话。</p>
<p>注意：session_start() 函数必须位于 <html> 标签之前。</p>
<p><strong>创建seeion</strong></p>
<p>获取浏览量的实例，网页每被浏览一次则views的值+1</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;?php
	
	session_start();
	&#x2F;&#x2F;isset() 函数检测是否已设置 &quot;views&quot; 变量
    if(isset($_SESSION[&#39;views&#39;]))&#123;
        &#x2F;&#x2F;如果已设置则累加计数器
        $_SESSION[&#39;views&#39;]&#x3D;$_SESSION[&#39;views&#39;]+1;
    &#125;
    else&#123;
        &#x2F;&#x2F;如果未设置则创建变量并且将其初始化为1
        $_SESSION[&#39;views&#39;]&#x3D;1;
    &#125;
?&gt;

&lt;html&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;
    &lt;title&gt;view&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;

&lt;?php
&#x2F;&#x2F; 检索 session 数据
echo &quot;浏览量：&quot;. $_SESSION[&#39;views&#39;];
?&gt;

&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>销毁session</strong></p>
<p>可以使用 unset() 或 session_destroy() 函数销毁session的数据</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    session_start();
    if(isset($_SESSION[&#39;views&#39;]))&#123;
        unset($_SESSION[&#39;views&#39;]);
    &#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    session_start();
    if(isset($_SESSION[&#39;views&#39;]))&#123;
        session_destroy();
    &#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="REQUEST"><a href="#REQUEST" class="headerlink" title="$_REQUEST"></a>$_REQUEST</h5><p>可记录通过GET、POST和cookie等方法传递给脚本的变量。</p>
<p>预定义的 $_REQUEST 变量包含了 $ _GET、$ _POST 和 $ _COOKIE 的内容。</p>
<p>$_REQUEST 变量可用来收集通过 GET 和 POST 方法发送的表单数据。</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&#x2F;&#x2F;在获取信息的页面可以将$_GET、$_POST,改为$_REQUEST，接收get和post的数据
&#x2F;&#x2F;获取信息页面get.php
&lt;?php
    echo &quot;您的用户名为：&quot;,$_REQUEST[&quot;username&quot;],&quot;&lt;br&gt;&quot;,&quot;您的密码为：&quot;,$_REQUEST[&quot;pwd&quot;];
    ?&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h5><p>提供了服务器和客户配置及当前请求环境的有关信息。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
echo $_SERVER[&#39;PHP_SELF&#39;];&#x2F;&#x2F;当前执行脚本的文件名
echo &quot;&lt;br&gt;&quot;;
echo $_SERVER[&#39;QUERY_STRING&#39;];&#x2F;&#x2F;查询字符串
echo &quot;&lt;br&gt;&quot;;
echo $_SERVER[&#39;SCRIPT_FILENAME&#39;];&#x2F;&#x2F;当前执行脚本的绝对路径
echo &quot;&lt;br&gt;&quot;;
echo $_SERVER[&#39;DOCUMENT_ROOT&#39;];&#x2F;&#x2F;当前运行脚本所在的文档根目录
echo &quot;&lt;br&gt;&quot;;
echo $_SERVER[&#39;SERVER_ADDR&#39;];&#x2F;&#x2F;服务器的 IP 地址
echo &quot;&lt;br&gt;&quot;;
echo $_SERVER[&#39;REMOTE_ADDR&#39;];&#x2F;&#x2F;客户端IP地址
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="FILES"><a href="#FILES" class="headerlink" title="$_FILES"></a>$_FILES</h5><p>在进行文件上传时，可以获取文件相关的信息及上传的结果。</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;
    &lt;form action&#x3D;&quot;upload_file.php&quot; method&#x3D;&quot;post&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot;&gt;
        &lt;label for&#x3D;&quot;file&quot;&gt;文件名：&lt;&#x2F;label&gt;
        &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;file&quot; id&#x3D;&quot;file&quot;&gt;&lt;br&gt;
        &lt;input type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;
    &lt;&#x2F;form&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong><form></strong> 标签的 <strong>enctype</strong> 属性规定了在提交表单时要使用哪种内容类型。在表单需要二进制数据时，使用 “<strong>multipart/form-data</strong>“。</li>
<li><input> 标签的 <strong>type=”file”</strong> 属性规定了应该把输入作为文件来处理。输入框旁边会出现一个浏览按钮。</li>
</ul>
<p><strong>创建上传脚本并且增加上传限制</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F; 允许上传的图片后缀
$allowedExts &#x3D; array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);
$temp &#x3D; explode(&quot;.&quot;, $_FILES[&quot;file&quot;][&quot;name&quot;]);
$extension &#x3D; end($temp);        &#x2F;&#x2F; 获取文件后缀名
if ((($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;gif&quot;)
        || ($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;jpeg&quot;)
        || ($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;jpg&quot;)
        || ($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;pjpeg&quot;)
        || ($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;x-png&quot;)
        || ($_FILES[&quot;file&quot;][&quot;type&quot;] &#x3D;&#x3D; &quot;image&#x2F;png&quot;))
    &amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 409600)    &#x2F;&#x2F; 小于 400 kb
    &amp;&amp; in_array($extension, $allowedExts))	&#x2F;&#x2F;判断文件后缀名是否存在于预定义的后缀的范围内
&#123;
    if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)
    &#123;
        echo &quot;错误：: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;
    &#125;
    else
    &#123;
        echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;
        echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;
        echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] &#x2F; 1024) . &quot; kB&lt;br&gt;&quot;;
        echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];
    &#125;
&#125;
else
&#123;
    echo &quot;非法的文件格式&quot;;
&#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ENV"><a href="#ENV" class="headerlink" title="$_ENV"></a>$_ENV</h5><p>环境变量，有可能没有任何值，通过var_dump()来查看</p>
<h5 id="GLOBALS"><a href="#GLOBALS" class="headerlink" title="$GLOBALS"></a>$GLOBALS</h5><p>超级全局变量的超集，包含全局作用域内的所有变量</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $x &#x3D; 1;
    $y &#x3D; 2;
    
    function addition()&#123;
        $GLOBALS[&#39;z&#39;] &#x3D; $GLOBALS[&#39;x&#39;] + $GLOBALS[&#39;y&#39;];
    &#125;
    addition();&#x2F;&#x2F;3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a><strong>可变变量</strong></h4><p>一个变量的变量名可以动态的设置和使用(一般结合常量使用，比如C1，C2。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $v1 &#x3D; &quot;jan&quot;;
    $$v1 &#x3D; &quot;31&quot;;
    $v2 &#x3D; &quot;feb&quot;;
    $&#123;$v2&#125; &#x3D; &quot;29&quot;;
    echo $v1 .&quot; &quot;. $&#123;$v1&#125;;&#x2F;&#x2F;jan 31
    echo $v2 .&quot; &quot;. $$v2;&#x2F;&#x2F;feb 29
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>常量是程序中无法修改的值。</p>
<p>一个常量由英文字母、下划线、和数字组成,但数字不能作为首字母出现。 (常量名不需要加 $ 修饰符)。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    &#x2F;&#x2F;常量的定义与引用                              
    const PI&#x3D;3.14;
    var_dump(PI);&#x2F;&#x2F;D:\wamp64\www\const.php:4:float 3.14

	const TOTAL_COUNT &#x3D; 10;
    echo 5 * TOTAL_COUNT;&#x2F;&#x2F;50

    define(&quot;MAX_SIZE&quot;,1000);
    echo &quot;Max Size is &quot; . MAX_SIZE;&#x2F;&#x2F;Max Size is 1000
    echo &quot;Max Size is &quot; . constant(&quot;MAX_SIZE&quot;);&#x2F;&#x2F;Max Size is 1000
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>常量使用方式：类名::常量名</p>
<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p><strong>算术操作符</strong> </p>
<p>+ - * / %</p>
<p><strong>赋值操作符</strong> </p>
<p>= += -= *= /= .=</p>
<p><strong>字符串操作符</strong> </p>
<p>. .=</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$a&#x3D;&quot;wwh&quot;;
	$b&#x3D;&quot;123&quot;;
    $a .&#x3D; $b;&#x2F;&#x2F;相当于$a &#x3D; $a.$b
    echo $a;&#x2F;&#x2F;wwh123
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>自增和自减操作符</strong></p>
<p> ++$v $v++ – $v $v–</p>
<p><strong>逻辑操作符</strong> </p>
<p>&amp;&amp;  AND  ||  OR  !$a   $a XOR $b </p>
<p><strong>相等操作符</strong> </p>
<p>== != === !==</p>
<p><strong>比较操作符</strong> </p>
<p>&gt; &lt; &gt;= &lt;= 三元运算</p>
<p><strong>位操作符</strong> </p>
<p>&amp; 与 | 或 ^ 异或 ~非 &lt;&lt;左移 &gt;&gt;右移</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$str3 &#x3D; 24&lt;&lt;2;&#x2F;&#x2F;&lt;&lt;左移位×n次2  &gt;&gt;右移位÷n次2
    var_dump($str3);
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="字符串插入"><a href="#字符串插入" class="headerlink" title="字符串插入"></a>字符串插入</h3><h4 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h4><p>最常见，提供了最大的灵活性，变量和转移字符都可以得到解析。</p>
<h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><p>php中的转义字符：\n 换行 \r 回车 \t 水平制表符 \ 反斜杠 $ 美元符 &quot; 双引号</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $str &#x3D; &quot;php&quot;;
    &#x2F;&#x2F;在浏览器中未体现换行效果，但是查看网页源代码会体现两行，若需换行，要使用&lt;br &#x2F;&gt;标签
    &#x2F;&#x2F;echo &quot;the $str 666 \n 777&quot;;
    echo &quot;the $str 666 &lt;br&gt; 777&quot;;
	&#x2F;&#x2F;the php 666
	&#x2F;&#x2F;777
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;解析字符串时变量和转义字符都不会被解析。在两种情况下需要转义：
    &#x2F;&#x2F;（1）字符串中包括单引号 （2）字符串中包括反斜杠
    $str1  &#x3D; &#39;it\&#39;s a book \\ &lt;br&gt;&#39;;
    echo $str1;&#x2F;&#x2F; it&#39;s a book \
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="大括号"><a href="#大括号" class="headerlink" title="大括号"></a>大括号</h4><p>php可以解析标量数据类型的变量，但是如果嵌入复杂数据类型（数组或者对象）的变量时，要用大括号来解决。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;在语句中嵌入变量可用大括号解决
    $name &#x3D; &#39;zhangsan&#39;;
	&#x2F;&#x2F;$result &#x3D; $name . &quot;在学习&quot;
    $result &#x3D; &quot;&#123;$name&#125;在学习&quot;;
    echo $result;

	$arr &#x3D; [&quot;a&quot;&#x3D;&gt;&quot;1&quot;,&quot;b&quot;&#x3D;&gt;&quot;2&quot;];
	echo &quot;&#123;$arr[&#39;a&#39;]&#125;&quot;;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="双引号定界符"><a href="#双引号定界符" class="headerlink" title="双引号定界符"></a>双引号定界符</h4><p>heredoc语法为输出大量文本提供了一种便利的方式，采用两个相同的标识符。</p>
<p>注意事项：</p>
<ul>
<li>开始和结束标识符必须相同</li>
<li>开始标识符前面必须是&lt;&lt;&lt; </li>
<li>语法与双引号界定符遵循相同的解析规则，即变量和转义字符都会得到解析，唯一的区别是，此处的双引号不需要转义</li>
<li>结束标识符必须在一行的开始处，而且前面不能有空格或任何其它多余的字符</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $str &#x3D; &quot;php&quot;;
	&#x2F;&#x2F;处理复杂的字符串时可以用双引号定界符
    $str2 &#x3D; &lt;&lt;&lt;EOF
    &lt;br&gt; this is &quot;$str&quot;;
EOF;
    echo $str2;&#x2F;&#x2F;this is &quot;php&quot;;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="单引号定界符"><a href="#单引号定界符" class="headerlink" title="单引号定界符"></a><strong>单引号定界符</strong></h4><p>php5.3新增的语法，操作等同于heredoc语法，只不过不会解析界定在nowdoc中的文本。（了解即可）</p>
<p>heredoc使用 &lt;&lt;&lt; EOT 的标示符，而nowdoc使用 &lt;&lt;&lt; ‘EOT’ 这样的标示符</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$str &#x3D; &quot;php&quot;;
    $str2 &#x3D; &lt;&lt;&lt;&#39;EOF&#39;
    this is &quot; $v &#39; &#x2F; \ addfdd
EOF;
    echo $str2;&#x2F;&#x2F;this is &quot; $str &#39; &#x2F; \ addfdd
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h3><h4 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h4><p>if语句和switch语句。</p>
<h4 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a><strong>循环语句</strong></h4><p>for、foreach、while、do…while。</p>
<h4 id="循环控制语句"><a href="#循环控制语句" class="headerlink" title="循环控制语句"></a><strong>循环控制语句</strong></h4><p>break、continue。</p>
<p>注意：break会跳出当前循环，而continue是跳出当次循环。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	for ($i&#x3D;0;$i&lt;&#x3D;5;$i++)&#123;
        if ($i&#x3D;&#x3D;2)&#123;
            break;
        &#125;
        echo $i;&#x2F;&#x2F;01
    &#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	for ($i&#x3D;0;$i&lt;&#x3D;5;$i++)&#123;
        if ($i&#x3D;&#x3D;2)&#123;
            continue;
        &#125;
        echo $i;&#x2F;&#x2F;01345
    &#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="文件包含语句"><a href="#文件包含语句" class="headerlink" title="文件包含语句"></a><strong>文件包含语句</strong></h4><p>include、include_once、require、require_once。</p>
<p>include语句的性能与 require相类似，都是包括并运行指定文件。</p>
<ul>
<li><strong>incluce</strong> 在用到时加载</li>
<li><strong>require</strong> 在一开始就加载</li>
<li><strong>_once</strong> 后缀表示已加载的不加载</li>
</ul>
<p>不同在于：</p>
<p>​    include语句每次执行文件都要进行读取，require语句只处理一次文件（相当于用文件内容替换require语句），因此执行多次的代码用require语句引入的效率高于include。</p>
<p>​    <strong>include</strong> 引入文件的时候，如果碰到错误，会给出提示，并<strong>继续运行</strong>下边的代码。</p>
<p>​    <strong>require</strong> 引入文件的时候，如果碰到错误，会给出提示，并<strong>停止运行</strong>下边的代码。</p>
<p>include_once和 require_once 语句也是在脚本执行期间包括运行指定文件。</p>
<p>​    此行为和 include语句及 require类似，使用方法也一样。</p>
<p>区别是：</p>
<p>​    如果该文件中的代码已经被包括了，则不会再次包括。这两个语句应该用于在脚本执行期间，同一个文件有可能被包括超过一次的情况下，确保它只被包括一次，以避免函数重定义以及变量重新赋值等问题。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;定义函数的页面
&lt;?php
    &#x2F;&#x2F;用多种方式计算1-100以内奇数的和
    function sum1()&#123;
        $sum1 &#x3D; 0;
        for ($i1&#x3D;1;$i1&lt;100;$i1++)&#123;
            if ($i1%2!&#x3D;0)&#123;
                $sum1+&#x3D;$i1;
            &#125;
        &#125;
        echo &quot;for循环的方式：&quot;.$sum1.&quot;&lt;br&gt;&quot;;
    &#125;

    function sum2()&#123;
        $sum2 &#x3D; 0;
        $arr &#x3D; range(1, 100);
        foreach ($arr as $i2) &#123;
            if ($i2 % 2 !&#x3D; 0) &#123;
                $sum2 +&#x3D; $i2;
            &#125;
        &#125;
        echo &quot;foreach循环的方式：&quot; . $sum2 . &quot;&lt;br&gt;&quot;;
    &#125;

    function sum3()&#123;
        $sum3 &#x3D; 0;
        $i3 &#x3D; 1;
        while ($i3&lt;100)&#123;
            if ($i3%2!&#x3D;0)&#123;
                $sum3+&#x3D;$i3;
            &#125;
            $i3++;
        &#125;
        echo &quot;while循环的方式：&quot;.$sum3.&quot;&lt;br&gt;&quot;;
    &#125;

    function sum4()&#123;
        $sum4 &#x3D; 0;
        $i4 &#x3D; 1;
        do&#123;
            if ($i4%2!&#x3D;0)&#123;
                $sum4+&#x3D;$i4;
            &#125;
            $i4++;
        &#125;while($i4&lt;100);
        echo &quot;do...while循环的方式：&quot;.$sum4.&quot;&lt;br&gt;&quot;;
    &#125;
?&gt;
    
&#x2F;&#x2F;调用函数页面
&lt;?php
    &#x2F;&#x2F;引入包含有函数的页面
    include &#39;func_sum.php&#39;;
    &#x2F;&#x2F;调用函数
    sum1();
    sum2();
    sum3();
    sum4();
?&gt;

&#x2F;&#x2F;输出
&#x2F;*
    for循环的方式：2500
    foreach循环的方式：2500
    while循环的方式：2500
    do...while循环的方式：2500
*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>PHP中数组的类型：<strong>关联数组</strong>和<strong>索引数组</strong>。</p>
<h4 id="数组定义"><a href="#数组定义" class="headerlink" title="数组定义"></a>数组定义</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$month[&quot;Jan&quot;] &#x3D; 31;
	$month[&quot;Feb&quot;] &#x3D; 29;

	$week[0] &#x3D; &quot;Sunday&quot;;
	$week[1] &#x3D; &quot;Monday&quot;;
	&#x2F;&#x2F;当索引是数值索引并且递增时可以省略索引值
	$week[] &#x3D; &quot;Sunday&quot;;
	$week[] &#x3D; &quot;Monday&quot;;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>正式的方法：</strong></p>
<p>1、用array()创建数组</p>
<p>2、用[ ]创建数组</p>
<p>3、用预定义的值填充数组 $month = range(1,12);</p>
<h4 id="输出数组"><a href="#输出数组" class="headerlink" title="输出数组"></a><strong>输出数组</strong></h4><p>foreach和print_r</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    $month[&quot;Jan&quot;] &#x3D; 31;
    $month[&quot;Feb&quot;] &#x3D; 29;
	print_r($month);&#x2F;&#x2F;Array ( [Jan] &#x3D;&gt; 31 [Feb] &#x3D;&gt; 29 )

    $week &#x3D; array(&quot;Sunday&quot;,&quot;Monday&quot;);
	echo $week[1];&#x2F;&#x2F;Monday
    foreach ($week as $value)&#123;
        echo $value;&#x2F;&#x2F;SundayMonday
    &#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数组相关的函数"><a href="#数组相关的函数" class="headerlink" title="数组相关的函数"></a>数组相关的函数</h4><p>1、在数组头添加元素 array_unshift array_unshift($arr,”3”,”4”);</p>
<p>2、在数组尾添加元素 array_push array_push($arr,”3”,”4”);</p>
<p>3、在数组头删除元素 array_shifit</p>
<p>4、在数组尾删除元素 array_pop</p>
<p>5、搜索索引数组值 in_array(key,array) </p>
<p>6、搜索关联数组键 array_key_exists(key,array) </p>
<p>7、搜索关联数组值 array_search(key,array) 找到返回key，否则返回false</p>
<p>8、获取数组键 array_keys(array) 可选参数search_value,strict是否严格匹配</p>
<p>9、获取数组值 array_values(array)</p>
<p>10、合并数组 array_merge(array array1,array2 array2,…) 直接合并，键相同覆盖</p>
<p>11、合并数组 array_combine(aray keys ,array values) 参数分别是键和值数组</p>
<p>12、拆分数组 array_slice(array array,offset,length,) 注意length可以为负数</p>
<h4 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h4><p>1、使用for循环遍历</p>
<p>​    获取数组的大小count($arr) 或者 sizeof($arr)。 </p>
<p>2、foreach遍历（<strong>推荐方式</strong>） </p>
<p>3、while() each()组合遍历 –了解</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$arr1 &#x3D; [&quot;jan&quot;&#x3D;&gt;31,&quot;feb&quot;&#x3D;&gt;2];
while ($arr &#x3D; each($arr1))&#123;
    echo $arr[&quot;key&quot;].&quot;-&gt;&quot;.$arr[&quot;value&quot;].&quot;&lt;br&gt;&quot;;
&#125;
&#x2F;&#x2F;jan-&gt;31
&#x2F;&#x2F;feb-&gt;2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>4、while() each() list()组合遍历 –了解</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$arr1 &#x3D; [&quot;jan&quot;&#x3D;&gt;31,&quot;feb&quot;&#x3D;&gt;2];
while(list($key,$value) &#x3D; each($arr1))&#123;
     echo $key . &quot;-&gt;&quot; . $value . &quot;&lt;br &#x2F;&gt;&quot;;
&#125;
&#x2F;&#x2F;jan-&gt;31
&#x2F;&#x2F;feb-&gt;2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>PHP发行包中有1000多个标准函数，可以直接使用。</p>
<h4 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h4><p><strong>调用内置函数</strong></p>
<p>例如：计算5的3次方，可以调用power函数。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo pow(5,3);&#x2F;&#x2F;125<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>调用第三方或者自己的函数库</strong></p>
<p>通过include、require等包含相应的函数库，然后调用函数。</p>
<h4 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h4><h5 id="按值传递参数"><a href="#按值传递参数" class="headerlink" title="按值传递参数"></a><strong>按值传递参数</strong></h5><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;传参
    function add($num)&#123;
        echo $num+1,&#39;&lt;br&gt;&#39;;
    &#125;
    add(2);&#x2F;&#x2F;3
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="按引用传递参数"><a href="#按引用传递参数" class="headerlink" title="按引用传递参数"></a><strong>按引用传递参数</strong></h5><p>在函数内对参数的修改也可以体现在函数的作用域外，在参数前加&amp;即可。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	$a &#x3D; 5;
    function inc(&amp;$b)&#123;
        $b++;
    &#125;
    inc($a);
    echo $a;&#x2F;&#x2F;6
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="默认参数值"><a href="#默认参数值" class="headerlink" title="默认参数值"></a><strong>默认参数值</strong></h5><p>可以为输入参数指定默认值</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	&#x2F;&#x2F;可以为输入参数指定默认值
    function inc($v, $step&#x3D;1)&#123;
        return $v + $step;
    &#125;
    $v &#x3D; 1;
    echo inc($v);&#x2F;&#x2F;2  当调用函数时未给值则使用参数默认的值
    echo inc($v,5);&#x2F;&#x2F;6	&#x2F;&#x2F;当调用函数时给了参数值则使用给定的值
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="从函数返回值"><a href="#从函数返回值" class="headerlink" title="从函数返回值"></a><strong>从函数返回值</strong></h5><p>1.return 返回单个值</p>
<p>2.返回多个值（利用list（）构造从数组中获取值）</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
function getUserInfo()&#123;
    $user[] &#x3D; &quot;张三&quot;;
    $user[] &#x3D; &quot;男&quot;;
    $user[] &#x3D; 18;
    return $user;
&#125;

&#x2F;&#x2F;var_dump(getUserInfo());
list($name,$gender,$age) &#x3D; getUserInfo();
echo $name.$gender.$age;&#x2F;&#x2F;张三男18
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>3.返回值可以是一个函数</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">function callFunc($a,$b)&#123;
    &#x2F;&#x2F;需要用use()调用需要的函数
    return function () use($a,$b)&#123;
        return $a+$b;
    &#125;;
&#125;
$result &#x3D; callFunc(2,3);
echo $result;&#x2F;&#x2F;5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">function calculation($a,$b,$op)&#123;
    function add($a,$b)&#123;
        return $a+$b;
    &#125;
    function sub($a,$b)&#123;
        return $a-$b;
    &#125;
    function mul($a,$b)&#123;
        return $a*$b;
    &#125;
    function div($a,$b)&#123;
        if ($b&#x3D;&#x3D;&#x3D;0)&#123;
            return &quot;除数不能为0！&quot;;
        &#125;
        return $a&#x2F;$b;
    &#125;
    switch ($op)&#123;
        case &#39;+&#39;:return add($a,$b);
        case &#39;-&#39;:return sub($a,$b);
        case &#39;*&#39;:return mul($a,$b);
        case &#39;&#x2F;&#39;:return div($a,$b);
    &#125;
&#125;
$result &#x3D; calculation(3,0,&#39;&#x2F;&#39;);
echo $result;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="使用类型提示"><a href="#使用类型提示" class="headerlink" title="使用类型提示"></a><strong>使用类型提示</strong></h5><p>PHP5引入一个新的特性，叫类型提示，可以强制参数为某个类的对象或者数组</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
$week &#x3D; array(&quot;Sunday&quot;,&quot;Monday&quot;);
function process(array $options)&#123;
        var_dump($options);
    &#125;
    process($week);
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="可变函数"><a href="#可变函数" class="headerlink" title="可变函数"></a><strong>可变函数</strong></h5><p>PHP 支持可变函数的概念。这意味着如果一个变量名后有圆括号，PHP 将寻找与变量的值同名的函数，并且尝试执行它</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
	function foo() &#123;
    echo &quot;In foo()&lt;br &#x2F;&gt;\n&quot;;
    &#125;
    $func &#x3D; &#39;foo&#39;;
    $func(); &#x2F;&#x2F;In foo() ，表示调用foo()函数
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="检查函数是否存在"><a href="#检查函数是否存在" class="headerlink" title="检查函数是否存在"></a>检查函数是否存在</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;检查函数是否存在,不存在则创建函数
if(!function_exists(&#39;inc&#39;))&#123;
    function inc($v, $step&#x3D;1)&#123;
        return $v + $step;
    &#125;
&#125;else&#123;
    echo &quot;函数已经存在&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h2><h3 id="什么是面向对象编程"><a href="#什么是面向对象编程" class="headerlink" title="什么是面向对象编程"></a>什么是面向对象编程</h3><h4 id="面向过程编程和面向对象编程的对比"><a href="#面向过程编程和面向对象编程的对比" class="headerlink" title="面向过程编程和面向对象编程的对比"></a>面向过程编程和面向对象编程的对比</h4><p>面向过程：面向函数编程，通过调用函数来处理所有的逻辑。</p>
<p>面向对象：按照一个个对象来处理，通过面向对象的处理方式（封装、继承和多态）来处理所有的逻辑。</p>
<h4 id="面向对象编程的好处"><a href="#面向对象编程的好处" class="headerlink" title="面向对象编程的好处"></a><strong>面向对象编程的好处</strong></h4><p>面向对象是一种思维方法</p>
<p>按照现实世界我们思考和认识的特点</p>
<p>将代码世界里具有相关联性的数据和对数据的操作放在一起</p>
<p>作为一个整体来处理</p>
<h3 id="面向对象的特征"><a href="#面向对象的特征" class="headerlink" title="面向对象的特征"></a><strong>面向对象的特征</strong></h3><p><strong>封装</strong>、<strong>继承</strong>、<strong>多态</strong></p>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a><strong>封装</strong></h4><p>隐藏数据，暴露接口（方法）。</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a><strong>继承</strong></h4><p>有共同特征，但是也有个性化的区别，主要好处就是代码重用。</p>
<h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><p>多态是指两个或多个不同子类的对象，对于同一个消息（方法调用）作出不同响应的方式。简单来说就是“不同子类对象对同一消息作出不同的响应”。</p>
<p>多态也可以理解成“一个接口，多种实现”，就是同一种事物表现出的多种形态，多态允许将子类的对象当作父类的对象使用，某父类型的引用指向其子类型的对象,调用的方法是该子类型的方法。</p>
<h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><h4 id="类"><a href="#类" class="headerlink" title="类"></a><strong>类</strong></h4><p>类是对现实世界中同一类事物的抽象，包含<strong>属性</strong>和<strong>方法</strong>。</p>
<p>属性：体现事物的特征。笔记本电脑有型号、颜色等。</p>
<p>方法：体现事物能做什么操作。笔记本电脑的启动、关机、安装软件、卸载软件等。</p>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a><strong>对象</strong></h4><p>对象是类的实例。</p>
<p>对象是一个具体化的事物。</p>
<p>学生是一个类，而XXX同学则是一个对象。</p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a><strong>属性</strong></h3><h4 id="声明属性"><a href="#声明属性" class="headerlink" title="声明属性"></a>声明属性</h4><p>创建一个php.class</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

class student
&#123;
    public $no;
    public $name;
    public $gender;
    public $age;
&#125;
&#x2F;&#x2F;利用ide生成get()、set()方法<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="属性作用域"><a href="#属性作用域" class="headerlink" title="属性作用域"></a>属性作用域</h4><p>public（公共的）、private（私有的）、protected（受保护的）</p>
<p>final（子类不可覆盖、重写）、static（静态的）</p>
<h4 id="调用属性"><a href="#调用属性" class="headerlink" title="调用属性"></a>调用属性</h4><p>属性使用-&gt;操作符引用</p>
<p>创建一个test.php作为测试页面</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;用include标签引入上面的类
include_once &#39;student.php&#39;;

&#x2F;&#x2F;创建一个对象
$zhangsan &#x3D; new student();
&#x2F;&#x2F;为对象增加属性
$zhangsan-&gt;setNo(1);
$zhangsan-&gt;setName(&quot;张三&quot;);
$zhangsan-&gt;setGender(&quot;男&quot;);
$zhangsan-&gt;setAge(18);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="get-方法"><a href="#get-方法" class="headerlink" title="__get()方法"></a>__get()方法</h5><p>读取不可访问属性的值时，__get() 会被调用。</p>
<h5 id="set-方法"><a href="#set-方法" class="headerlink" title="__set()方法"></a>__set()方法</h5><p>在给不可访问属性赋值时，__set() 会被调用。</p>
<p><strong>创建定制获取方法和设置方法getName() 和setName()</strong></p>
<p><strong>实例</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;php.class页面
&lt;?php
class student
&#123;	&#x2F;&#x2F;将属性设置为私有，则测试页面没法直接访问
    private $no;
    private $name;
    private $gender;
    private $age;
    &#x2F;&#x2F;用ide自动生成get()set()方法
    &#x2F;**
     * @return mixed
     *&#x2F;
    public function getNo()
    &#123;
        return $this-&gt;no;
    &#125;

    &#x2F;**
     * @param mixed $no
     *&#x2F;
    public function setNo($no)
    &#123;
        $this-&gt;no &#x3D; $no;
    &#125;

    &#x2F;**
     * @return mixed
     *&#x2F;
    public function getName()
    &#123;
        return $this-&gt;name;
    &#125;

    &#x2F;**
     * @param mixed $name
     *&#x2F;
    public function setName($name)
    &#123;
        $this-&gt;name &#x3D; $name;
    &#125;

    &#x2F;**
     * @return mixed
     *&#x2F;
    public function getGender()
    &#123;
        return $this-&gt;gender;
    &#125;

    &#x2F;**
     * @param mixed $gender
     *&#x2F;
    public function setGender($gender)
    &#123;   &#x2F;&#x2F;设置属性时可以在set方法里面设置条件
        if ($gender &#x3D;&#x3D; &#39;男&#39; || $gender &#x3D;&#x3D; &#39;女&#39;)&#123;
        $this-&gt;gender &#x3D; $gender;
        &#125;else&#123;
            $this-&gt;gender &#x3D; &#39;性别不正确&#39;;
        &#125;

    &#125;

    &#x2F;**
     * @return mixed
     *&#x2F;
    public function getAge()
    &#123;
        return $this-&gt;age;
    &#125;

    &#x2F;**
     * @param mixed $age
     *&#x2F;
    public function setAge($age)
    &#123;
        if($age&gt;0 &amp;&amp; $age&lt;&#x3D;120)&#123;
            $this-&gt;age &#x3D; $age;
        &#125;else&#123;
            $this-&gt;age &#x3D; &#39;年龄数据异常&#39;;
        &#125;

    &#125;

    &#x2F;&#x2F;魔术方法，当测试页面访问到无法访问的属性会先调用该方法
    function __get($name)
    &#123;	&#x2F;&#x2F;组成方法名
        $methodName &#x3D; &#39;get&#39; .$name;
        &#x2F;&#x2F;判断该方法是否存在
        if (method_exists($this,$methodName))&#123;
            &#x2F;&#x2F;调用对应的方法
            return $this-&gt;$methodName();
        &#125;
    &#125;
    function __set($name, $value)
    &#123;
        $methodName &#x3D; &#39;set&#39; .$name;
        if (method_exists($this,$methodName))&#123;
            return $this-&gt;$methodName($value);
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test.php页面
&lt;?php
&#x2F;&#x2F;用include语句引入需要使用的类
include_once &#39;student.php&#39;;

&#x2F;&#x2F;声明一个对象
$zhangsan &#x3D; new student();
&#x2F;&#x2F;最直接设置属性的方法，但是仅仅在属性可以被访问时可以这样设置
&#x2F;&#x2F;$zhangsan-&gt;setNo(1);
&#x2F;&#x2F;$zhangsan-&gt;setName(&quot;张三&quot;);
&#x2F;&#x2F;$zhangsan-&gt;setGender(&quot;男&quot;);
&#x2F;&#x2F;$zhangsan-&gt;setAge(18);

&#x2F;&#x2F;使用魔术方法优化后的设置属性的方法
$zhangsan-&gt;no&#x3D;1;
$zhangsan-&gt;name&#x3D;&#39;张三&#39;;
$zhangsan-&gt;gender&#x3D;&#39;男&#39;;
$zhangsan-&gt;age&#x3D;18;

&#x2F;&#x2F;如果向对象传入一个类中没有的属性，类会自动添加一个public属性
&#x2F;&#x2F;这种情况可以使用魔术方法避免
$zhangsan-&gt;college&#x3D;&#39;诚毅学院&#39;;
var_dump($zhangsan);

&#x2F;*D:\wamp64\www\php_class\test.php:16:
object(student)[1]
  private &#39;no&#39; &#x3D;&gt; int 1
  private &#39;name&#39; &#x3D;&gt; string &#39;张三&#39; (length&#x3D;6)
  private &#39;gender&#39; &#x3D;&gt; string &#39;男&#39; (length&#x3D;3)
  private &#39;age&#39; &#x3D;&gt; int 18*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h4 id="static静态类成员"><a href="#static静态类成员" class="headerlink" title="static静态类成员"></a>static静态类成员</h4><p>共享所有类实例的属性和方法，同所有的类实例有关，但不能由任何特定对象调用。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php


class Visitor
&#123;	
    &#x2F;&#x2F;创建静态变量
    static $count&#x3D;0;
    
    &#x2F;&#x2F;创建构造函数
    function __construct()
    &#123;	&#x2F;&#x2F;调用静态变量
        &#x2F;&#x2F;每次访问都自增
        self::$count++;
    &#125;

    static function getVistorCount()&#123;
        &#x2F;&#x2F;返回自增后的值
        return self::$count;
    &#125;

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    include &quot;Visitor.php&quot;;
    $visitor1&#x3D;new visitor();&#x2F;&#x2F;实例化一次
    echo visitor::getVistorCount().&quot;&lt;br&gt;&quot;;&#x2F;&#x2F;1
    $visitor2&#x3D;new visitor();&#x2F;&#x2F;实例化二次
    echo visitor::getVistorCount().&quot;&lt;br&gt;&quot;&#x2F;&#x2F;2
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="construct"><a href="#construct" class="headerlink" title="__construct"></a>__construct</h4><p>构造方法是创建对象（对象实例化）时自动执行的函数</p>
<p><strong>优点：</strong></p>
<ol>
<li>可以接受参数，在创建对象时赋予给定的对象属性</li>
<li>可以调用类方法或其他函数</li>
<li>类的构造方法可以调用其他构造方法，包括父类的构造方法</li>
</ol>
<h4 id="destruct"><a href="#destruct" class="headerlink" title="__destruct"></a>__destruct</h4><p>析构方法在用完某个类后，释放不再使用的资源。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;创建一个php.class
&#x2F;&#x2F;Website.php
&lt;?php


class Website&#123;
    public $name, $url, $title;
    &#x2F;&#x2F;构造函数，并且传入参数
    public function __construct($str1, $str2, $str3)&#123;
        $this -&gt; name  &#x3D; $str1;
        $this -&gt; url   &#x3D; $str2;
        $this -&gt; title &#x3D; $str3;
        &#x2F;&#x2F;在构造函数中调用方法
        $this -&gt; demo();
    &#125;
    public function demo()&#123;
        echo $this -&gt; name.&#39;&lt;br&gt;&#39;;
        echo $this -&gt; url.&#39;&lt;br&gt;&#39;;
        echo $this -&gt; title.&#39;&lt;br&gt;&#39;;
    &#125;
    
    &#x2F;&#x2F;析构函数
    public function __destruct()
    &#123;
        echo &quot;析构函数执行完毕&quot;;
    &#125;
&#125;

&#x2F;&#x2F;实例化对象，设定参数
$object &#x3D; new Website(&#39;C语言中文网&#39;,&#39;http:&#x2F;&#x2F;c.biancheng.net&#x2F;php&#x2F;&#39;,&#39;构造函数&#39;);
?&gt;
    
&#x2F;*C语言中文网
http:&#x2F;&#x2F;c.biancheng.net&#x2F;php&#x2F;
构造函数
析构函数执行完毕*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="autoload"><a href="#autoload" class="headerlink" title="__autoload()"></a>__autoload()</h4><p>当PHP文件中使用了new关键字实例化一个对象时，如果没有在本PHP文件中被定义，则触发__autoload()，此时就可以自动引入该类PHP文件，进而实例化成功</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;global.php
&lt;?php
function __autoload($class)&#123;
    &#x2F;&#x2F;将触发__autoload()函数的类拼为一个地址
    $classpath &#x3D; &quot;$class.php&quot;;
    if(file_exists($classpath))&#123;
        &#x2F;&#x2F;如果该类有被创建，则引入该文件
        require_once &quot;$classpath&quot;;
    &#125;else&#123;
        &#x2F;&#x2F;如果该类没有被创建，则显示该文件没找到
        echo $classpath.&quot; not be found!&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>自动加载对象升级版</strong></p>
<p><strong>spl_autoload_register()</strong></p>
<p>可以注册多个自动加载函数，可以对接口和抽象类、普通类进行分别注册</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
spl_autoload_register(function($class)&#123;
    &#x2F;&#x2F;将触发__autoload()函数的类拼为一个地址
    $classpath &#x3D; &quot;$class.php&quot;;
    if(file_exists($classpath))&#123;
        &#x2F;&#x2F;如果该类有被创建，则引入该文件
        require_once &quot;$classpath&quot;;
    &#125;else&#123;
        &#x2F;&#x2F;如果该类没有被创建，则显示该文件没找到
        echo $classpath.&quot; not be found!&quot;;
    &#125;
&#125;);

spl_autoload_register(function($interface)&#123;
    &#x2F;&#x2F;将触发__autoload()函数的接口拼为一个地址
    $interfacePath &#x3D; &quot;$interface.php&quot;;
    if(file_exists($interfacePath))&#123;
        &#x2F;&#x2F;如果该接口有被创建，则引入该文件
        require_once &quot;$interfacePath&quot;;
    &#125;else&#123;
        &#x2F;&#x2F;如果该接口没有被创建，则显示该文件没找到
        echo $interfacePath.&quot; not be found!&quot;;
    &#125;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="clone"><a href="#clone" class="headerlink" title="__clone()"></a>__clone()</h4><p>当我们在一个项目里使用多个一样的对象，如果使用new关键字重新创建对象，再赋上相同的属性，这样比较繁琐并且容易出错。</p>
<p>我们可以用clone关键字根据一个对象完全克隆出一个一模一样的对象，并且克隆以后，两个对象互不干扰。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$object2 &#x3D; clone $object;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果想在克隆后改变原对象的内容，需要在类中添加__clone()方法来重写原本的属性和方法。</p>
<p>__clone()方法只会在对象被克隆时自动调用。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php


class Human
&#123;
    private $name;
    private $age;

    &#x2F;**
     * Human constructor.
     * @param $name
     * @param $age
     *&#x2F;
    public function __construct($name, $age)
    &#123;
        $this-&gt;name &#x3D; $name;
        $this-&gt;age &#x3D; $age;
    &#125;

    function say()&#123;
        echo &quot;我的名字是：&quot;.$this-&gt;name.&#39;,&#39;;
        echo &quot;我的年龄是：&quot;.$this-&gt;age.&quot;&lt;br&gt;&quot;;
    &#125;

    function __clone()
    &#123;
        $this-&gt;name &#x3D; &quot;我是假的&quot;.$this-&gt;name;
        $this-&gt;age &#x3D; 30;
    &#125;
&#125;

$p1 &#x3D; new Human(&quot;zhangsan&quot;,18);
$p1-&gt;say();
&#x2F;&#x2F;我的名字是：zhangsan,我的年龄是：18

$p2 &#x3D; clone $p1;
$p2-&gt;say();
&#x2F;&#x2F;我的名字是：我是假的zhangsan,我的年龄是：30<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="__toString()"></a>__toString()</h4><p>规定了echo对象输出的内容</p>
<p>当要echo一个对象时，如果没有该方法会报错</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">function __toString()
&#123;
    return &quot;no:$this-&gt;no,name:$this-&gt;name,age:$this-&gt;age,gender:$this-&gt;gender&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="辅助函数"><a href="#辅助函数" class="headerlink" title="辅助函数"></a>辅助函数</h4><p><strong>instanceof</strong></p>
<p>判断一个对象是类的实例、类的子类或者是否实现了某个接口。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$zhangsan &#x3D; new student();
if($zhangsan instanceof student)&#123;
    echo &quot;yes&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>class_exists(String classname)</strong></p>
<p>判断类是否存在</p>
<p><strong>get_class(object object)</strong></p>
<p>获取对象的类名</p>
<p><strong>get_class_methods()</strong></p>
<p>获取类方法</p>
<p><strong>get_class_var()</strong></p>
<p>获取类属性</p>
<p><strong>get_declared_classes()</strong></p>
<p>获取声明类</p>
<p><strong>get_parent_class()</strong></p>
<p>获取对象属性</p>
<p><strong>interface_exists()</strong></p>
<p>确定接口是否存在</p>
<p><strong>is_a(object,classname)</strong> </p>
<p>确定对象的类型</p>
<p> object属于classname类或者classname的子类时，返回true</p>
<p><strong>is_subclass_of(object,classname)</strong></p>
<p>确定对象的子类类型</p>
<p> object继承自classname类时，返回true</p>
<p><strong>method_exists(object,methodname)</strong> </p>
<p>确定方法是否存在</p>
<hr>
<h3 id="trait"><a href="#trait" class="headerlink" title="trait"></a>trait</h3><p>trait是为类似PHP的单继承语言而准备的一种代码复用机制。</p>
<p>trait为了减少单继承语言的限制，使开发人员能够自由地在不同层次结构内独立的类中复用方法。</p>
<p>我们可以定义一个trait，并且使用use来使用trait里面的方法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

trait SayHi
&#123;
    function hi()&#123;
        echo &quot;hello world&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

include &quot;SayHi.php&quot;;
class Teacher
&#123;
    use SayHi;
&#125;

$zhangsan &#x3D; new Teacher();
$zhangsan-&gt;hi();&#x2F;&#x2F;&quot;hello world&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>同时，trait如果在父类被使用时，可以继承给子类</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;父类Person
&lt;?php
include &quot;SayHi.php&quot;;

class Person
&#123;
    use SayHi;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;子类Teacher
&lt;?php
include &quot;Person.php&quot;;

class Teacher extends Person
&#123;
	&#x2F;&#x2F;use SayHi;
&#125;
$lisi &#x3D; new Person();
$lisi-&gt;hi();&#x2F;&#x2F;&quot;hello world&quot;
echo &quot;&lt;br&gt;&quot;;
$zhangsan &#x3D; new Teacher();
$zhangsan-&gt;hi();&#x2F;&#x2F;&quot;hello world&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="继承-1"><a href="#继承-1" class="headerlink" title="继承"></a>继承</h3><p>继承的概念来自于现实生活，比如汽车类、轮船类都属于交通工具类，可以继承于交通工具类，而汽车类可以派生出自己的子类，如轿车类、面包车类。</p>
<p>继承的类之间有共同的特征，但是也存在个性化的区别，好处就是代码的重用。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;父类Person
&lt;?php
class Person
&#123;	&#x2F;&#x2F;在Person类中定义一个方法
    function SayHi()&#123;
        echo &quot;I am a person&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;子类Teacher
&lt;?php

include &quot;Person.php&quot;;
class Teacher extends Person
&#123;
    function SayHi()
    &#123;	&#x2F;&#x2F;继承并且调用父类中的SayHi方法
        parent::SayHi();
    &#125;
&#125;

$zhangsan &#x3D; new Teacher();
$zhangsan-&gt;SayHi();&#x2F;&#x2F;&quot;I am a person&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当子类FemaleTeacher继承Teacher，他同时也会继承Teacher继承自Person的属性与方法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

include &quot;Teacher.php&quot;;
class FemaleTeacher extends Teacher
&#123;
    function SayHi()
    &#123;
        parent::SayHi();
    &#125;
&#125;

$lisi &#x3D; new FemaleTeacher();
$lisi-&gt;SayHi();&#x2F;&#x2F;&quot;I am a personI am a person&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>当父类有构造方法而子类没有构造方法，在实例化子类时会调用父类的构造方法</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

class Person
&#123;
    protected $name;
    
    public function __construct($name)
    &#123;
        $this-&gt;name &#x3D; $name;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

include &quot;Person.php&quot;;
class Teacher extends Person
&#123;

&#125;

$zhangsan &#x3D; new Teacher(&quot;zhangsan&quot;);
var_dump($zhangsan);
&#x2F;*D:\wamp64\www\homework two\Teacher.php:10:
object(Teacher)[1]
  protected &#39;name&#39; &#x3D;&gt; string &#39;zhangsan&#39; (length&#x3D;8)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>当父类与子类都有构造方法的时候，无论父类有无构造方法，都会执行子类的构造方法</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

include &quot;Person.php&quot;;
class Teacher extends Person
&#123;
    protected $teacherID;
    &#x2F;**
     * Teacher constructor.
     * @param $teacherID
     *&#x2F;
    public function __construct($teacherID)
    &#123;
        $this-&gt;teacherID &#x3D; $teacherID;
    &#125;

&#125;

$zhangsan &#x3D; new Teacher(&quot;zhangsan&quot;,1);
var_dump($zhangsan);
&#x2F;*D:\wamp64\www\homework two\Teacher.php:20:
object(Teacher)[1]
  protected &#39;teacherID&#39; &#x3D;&gt; string &#39;zhangsan&#39; (length&#x3D;8)
  protected &#39;name&#39; &#x3D;&gt; null*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如上，由于子类的构造方法中没有传入父类的$name的参数，因此尽管继承了该构造方法，实例化时向里面传入了值，该name也会为null。</p>
<p>因此当我们希望子类执行父类的构造方法时，可以用parent::引入，该方法会向上检索构造方法，直到最顶层</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

include &quot;Person.php&quot;;
class Teacher extends Person
&#123;
    protected $teacherID;

    &#x2F;**
     * Teacher constructor.
     * @param $teacherID
     *&#x2F;
    public function __construct($name,$teacherID)
    &#123;
        parent::__construct($name);
        $this-&gt;teacherID &#x3D; $teacherID;
    &#125;

&#125;

$zhangsan &#x3D; new Teacher(&quot;zhangsan&quot;,1);
var_dump($zhangsan);
&#x2F;*D:\wamp64\www\homework two\Teacher.php:21:
object(Teacher)[1]
  protected &#39;teacherID&#39; &#x3D;&gt; int 1
  protected &#39;name&#39; &#x3D;&gt; string &#39;zhangsan&#39; (length&#x3D;8)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p>接口是对行为的抽象，在PHP中，接口只包括常量和方法</p>
<h4 id="定义接口"><a href="#定义接口" class="headerlink" title="定义接口"></a>定义接口</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;定义一个接口，其中有一个常量与两个方法
interface IFly
&#123;
    const NAME&#x3D;&#39;IFLY&#39;;
    function fly();
    function fly2();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实现单个接口"><a href="#实现单个接口" class="headerlink" title="实现单个接口"></a>实现单个接口</h4><p>在一个类实现接口时，必须实现接口中所有的方法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个Bird类去实现IFly接口
class Bird implements IFly
&#123;
    function fly()
    &#123;
        echo &quot;bird can fly&quot;;
    &#125;

    function fly2()
    &#123;
        echo &quot;bird fly2&quot;;
    &#125;

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
    include &quot;global.php&quot;;

    var_dump(IFly::NAME);
&#x2F;*D:\wamp64\www\php_class\php_interface\test.php:4:string &#39;IFLY&#39; (length&#x3D;4)*&#x2F;
    
	$bird &#x3D; new Bird();
	echo $bird::NAME;&#x2F;&#x2F;IFLY
	var_dump(Bird::NAME);
&#x2F;*D:\wamp64\www\php_class\php_interface\test.php:12:string &#39;IFLY&#39; (length&#x3D;4)*&#x2F;
	$bird-&gt;fly();&#x2F;&#x2F;bird can fly
&#x2F;*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实现多个接口"><a href="#实现多个接口" class="headerlink" title="实现多个接口"></a>实现多个接口</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;添加一个接口，接口中包含transport方法
interface ITransport
&#123;
    function transport();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;用Plane类去实现IFly接口与ITransport接口
class Plane implements Ifly,ITransport
&#123;
    function fly()&#123;
        echo &quot;plane can fly&quot;;
    &#125;

    function transport()&#123;
        echo &quot;plane can transport&quot;;
    &#125;

    function fly2()
    &#123;
        &#x2F;&#x2F; TODO: Implement fly2() method.
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
    include &quot;global.php&quot;;

    $plane &#x3D; new Plane();
    $plane-&gt;fly();&#x2F;&#x2F;plane can fly
    $plane-&gt;transport();&#x2F;&#x2F;plane can transport<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="接口的继承"><a href="#接口的继承" class="headerlink" title="接口的继承"></a>接口的继承</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建IRead接口
interface IRead
&#123;
    function read();
    function readAndWrite();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建IWrite接口
interface IWrite
&#123;
    function write();
    function readAndWrite();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一个接口可以继承于多个接口</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建IReadWrite接口去继承IRead接口和IWrite接口
interface IReadWrite extends IRead,IWrite
&#123;

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
    include &quot;global.php&quot;;
    &#x2F;&#x2F;验证方法是否存在与接口对象中
  	var_dump(method_exists(&quot;IReadWrite&quot;,&quot;read&quot;));&#x2F;&#x2F;true
    var_dump(method_exists(&quot;IReadWrite&quot;,&quot;write&quot;));&#x2F;&#x2F;true
    var_dump(method_exists(&quot;IReadWrite&quot;,&quot;readAndWrite&quot;));&#x2F;&#x2F;true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个学生类去实现IReadWrite接口
class Student implements IReadWrite
&#123;
   function read()
    &#123;
        echo &quot;student read&quot;;
    &#125;

    function readAndWrite()
    &#123;
        echo &quot;student read and write&quot;;
    &#125;

    function write()
    &#123;
        echo &quot;student write&quot;;
    &#125;

&#x2F;&#x2F;	  报错，php没有办法重载函数
&#x2F;&#x2F;    function write($name)&#123;
&#x2F;&#x2F;
&#x2F;&#x2F;    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
    include &quot;global.php&quot;;

    $student &#x3D; new Student();
    $student-&gt;read();&#x2F;&#x2F;student read
    $student-&gt;write();&#x2F;&#x2F;student write
    $student-&gt;readAndWrite();&#x2F;&#x2F;student read and write<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在IWrite与IRead接口中，各有两个方法，其中readAndWrite方法同名，在Student类中只能选择一个进行实现，这是因为<strong>PHP中无法进行函数的重载</strong></p>
<h4 id="继承类并实现接口"><a href="#继承类并实现接口" class="headerlink" title="继承类并实现接口"></a>继承类并实现接口</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个Animal类作为父类
class Animal
&#123;
    function run()&#123;
        echo &quot;Animal can run&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;在Student类中继承Animal类并且实现IReadWrite接口
class Student extends Animal implements IReadWrite
&#123;
    function read()
    &#123;
        echo &quot;student read&quot;;
    &#125;

    function readAndWrite()
    &#123;
        echo &quot;student read and write&quot;;
    &#125;

    function write()
    &#123;
        echo &quot;student write&quot;;
    &#125;

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
    include &quot;global.php&quot;;

    $student &#x3D; new Student();
    $student-&gt;read();&#x2F;&#x2F;student read
    $student-&gt;write();&#x2F;&#x2F;student write
    $student-&gt;readAndWrite();&#x2F;&#x2F;student read and write
    $student-&gt;run();&#x2F;&#x2F;Animal can run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p>可以把抽象类理解为把类当作对象，抽象称的类叫做抽象类</p>
<p>抽象类是不能被实例化的类，只能作为由其他类继承的基类</p>
<p>声明抽象类时必须在定义前面加上abstract关键字</p>
<p>抽象类之间也可以继承，但是实际项目中比较少用</p>
<p>抽象类中的抽象方法都必须在子类中被实现</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;建立一个图形抽象类作为基类
abstract class Shape&#123;
    &#x2F;&#x2F;在基类中定义一个抽象方法draw()
    abstract function draw();
    &#x2F;&#x2F;抽象类中可以包括已经实现的方法
    function usePen()&#123;
        echo &quot;draw need pen&quot;;
    &#125;
&#125;

&#x2F;&#x2F;建立一个圆形类，继承自图形类
class Circle extends Shape
&#123;	&#x2F;&#x2F;在圆形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a circle&quot;;
    &#125;
&#125;

&#x2F;&#x2F;建立一个正方形类，同样继承自图形类
class Square extends Shape
&#123;	&#x2F;&#x2F;在正方形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a square&quot;;
    &#125;
&#125;

&#x2F;&#x2F;创建一个用于调用draw()的函数
function draw($obj)&#123;
    $obj-&gt;draw();
&#125;

&#x2F;&#x2F;使用不同的对象去调用同一个方法
draw(new Circle());&#x2F;&#x2F;I am a circle
draw(new Square());&#x2F;&#x2F;I am a square

&#x2F;&#x2F;创建一个用于调用usePen()的函数
function usePen($obj)&#123;
    $obj-&gt;usePen();
&#125;

&#x2F;&#x2F;使用不同的对象去调用同一个方法
usePen(new Circle());&#x2F;&#x2F;draw need pen
usePen(new Square());&#x2F;&#x2F;draw need pen<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

abstract class Shape
&#123;
    abstract function getArea();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

class Square extends Shape
&#123;
    &#x2F;&#x2F;定义正方形长宽
    private $width;
    private $height;

    &#x2F;**
     * Square constructor.
     * @param $width
     * @param $height
     *&#x2F;
    &#x2F;&#x2F;构造方法
    public function __construct($width, $height)
    &#123;
        $this-&gt;width &#x3D; $width;
        $this-&gt;height &#x3D; $height;
    &#125;
	&#x2F;&#x2F;计算面积
    function getArea()
    &#123;
        return $this-&gt;width * $this-&gt;height;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
include &quot;global.php&quot;;
&#x2F;&#x2F;实例化对象，同时调用方法
echo ((new Square(3,4))-&gt;getArea());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="抽象类和接口的异同点"><a href="#抽象类和接口的异同点" class="headerlink" title="抽象类和接口的异同点"></a>抽象类和接口的异同点</h4><p><strong>相同点：</strong></p>
<ol>
<li>都<strong>不能实例化</strong></li>
<li>都<strong>包含未实现的方法声明</strong></li>
<li>抽象类的派生类和接口的实现类<strong>都必须实现未实现的方法</strong>，抽象类是抽象方法，接口则是所有成员（不仅是方法，还包括其他成员）。</li>
</ol>
<p><strong>不同点：</strong></p>
<ol>
<li>类是对对象的抽象，接口只是一个行为的规范或规定</li>
<li>接口基本上不具备继承的人和特点，它仅仅承诺了能够调用的方法</li>
<li>一个类一次能实现(implements)多个接口，但是只能扩展(extends)一个父类</li>
<li>抽象类实现了OOP中的一个原则，把可变的与不可变的分离。抽象类和接口就是定义为不可变的，而把可变的作为子类去实现</li>
</ol>
<h4 id="抽象类和接口的使用时机"><a href="#抽象类和接口的使用时机" class="headerlink" title="抽象类和接口的使用时机"></a>抽象类和接口的使用时机</h4><ol>
<li>抽象类主要用于关系密切的对象；而接口适合为不相关的类提供通用功能</li>
<li>如果必须从多个来源继承行为，就是用接口。PHP类可以实现(implements)多个接口，但不能扩展(extends)多个抽象类</li>
<li>如果知道所有的类都会共享一个公共的行为实现，就使用抽象类，并在其中实现该行为。在接口中无法实现行为。</li>
</ol>
<h3 id="多态-1"><a href="#多态-1" class="headerlink" title="多态"></a>多态</h3><p>多态性是指相同的操作或函数、过程可作用于多种类型的对象上并获得不同的结果。</p>
<p>不同的对象，收到同一消息将可以产生不同的结果，这种现象称为多态性。</p>
<p>”一个对外接口，多个内部实现方法。“</p>
<p>其三大特征：</p>
<ul>
<li>子类继承父类</li>
<li>子类重写父类</li>
<li>父类指向子类</li>
</ul>
<p>多态实现的前提：</p>
<p>必须是类与类之间要有关系，即继承|实现|存在重写</p>
<p>（其实就是抽象函数或者接口）</p>
<h4 id="通过继承普通类实现多态"><a href="#通过继承普通类实现多态" class="headerlink" title="通过继承普通类实现多态"></a>通过继承普通类实现多态</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;建立一个图形类，作为基类
class Shape
&#123;	&#x2F;&#x2F;在类中添加一个draw的方法
    function draw()&#123;
        echo &quot;I am a base class&quot;;
    &#125;
&#125;

&#x2F;&#x2F;建立一个圆形类，继承自图形类
class Circle extends Shape
&#123;	&#x2F;&#x2F;在圆形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a circle&quot;;
    &#125;
&#125;

&#x2F;&#x2F;建立一个正方形类，同样继承自图形类
class Square extends Shape
&#123;	&#x2F;&#x2F;在正方形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a square&quot;;
    &#125;
&#125;

&#x2F;&#x2F;创建一个用于调用draw()的函数
function draw($obj)&#123;
    $obj-&gt;draw();
&#125;

&#x2F;&#x2F;使用不同的对象去调用同一个方法
draw(new Shape());&#x2F;&#x2F;I am a shape
draw(new Circle());&#x2F;&#x2F;I am a circle
draw(new Square());&#x2F;&#x2F;I am a square<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过子类继承父类，在子类中重写了父类的方法，再用三个对象去调用同一个方法，输出了不同的内容，实现了多态。</p>
<h4 id="通过继承抽象类实现多态"><a href="#通过继承抽象类实现多态" class="headerlink" title="通过继承抽象类实现多态"></a>通过继承抽象类实现多态</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;建立一个图形抽象类作为基类
abstract class Shape&#123;
    &#x2F;&#x2F;在基类中定义一个抽象方法draw()
    abstract function draw();
&#125;

&#x2F;&#x2F;建立一个圆形类，继承自图形类
class Circle extends Shape
&#123;	&#x2F;&#x2F;在圆形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a circle&quot;;
    &#125;
&#125;

&#x2F;&#x2F;建立一个正方形类，同样继承自图形类
class Square extends Shape
&#123;	&#x2F;&#x2F;在正方形类中重写父类中的draw方法
    function draw()
    &#123;
        echo &quot;I am a square&quot;;
    &#125;
&#125;

&#x2F;&#x2F;创建一个用于调用draw()的函数
function draw($obj)&#123;
    $obj-&gt;draw();
&#125;

&#x2F;&#x2F;使用不同的对象去调用同一个方法
draw(new Circle());&#x2F;&#x2F;I am a circle
draw(new Square());&#x2F;&#x2F;I am a square<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>继承抽象类实现多态的方法与继承普通类实现多态的方法大致相同，差别于定义的抽象类只能作为基类给子类继承，抽象类中的抽象方法无法在抽象类中实现。并且，抽象类无法进行实例化。</p>
<h4 id="通过接口实现多态"><a href="#通过接口实现多态" class="headerlink" title="通过接口实现多态"></a>通过接口实现多态</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个ISwim接口，内部包含一个未被实现的swim()
interface ISwim
&#123;
    function swim();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个Person类，调用ISwim接口
class Person implements ISwim
&#123;
	&#x2F;&#x2F;实现ISwim接口中预定义的方法
    function swim()
    &#123;
        echo &quot;Person can swim&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;创建一个Fish类，调用ISwim接口
class Fish implements ISwim
&#123;
	&#x2F;&#x2F;实现ISwim接口中预定义的方法
    function swim()
    &#123;
        echo &quot;Fish can swim&quot;;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test
&lt;?php
include &quot;global.php&quot;;
function swim($obj)&#123;
    $obj-&gt;swim();
&#125;
&#x2F;&#x2F;分别以不同的对象去调用swim方法
swim(new Person());&#x2F;&#x2F;Person can swim
swim(new Fish());&#x2F;&#x2F;Fish can swim<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过类对接口的调用，并且实现接口里面预定义的方法，使不同的对象去调用同一个方法时有不同的输出，实现了多态。</p>
<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><p>PHP 命名空间可以解决以下两类问题：</p>
<ol>
<li>用户编写的代码与PHP内部的类/函数/常量或第三方类/函数/常量之间的名字冲突。</li>
<li>为很长的标识符名称(通常是为了缓解第一类问题而定义的)创建一个别名（或简短）的名称，提高源代码的可读性。</li>
</ol>
<h4 id="全局命名空间"><a href="#全局命名空间" class="headerlink" title="全局命名空间"></a>全局命名空间</h4><p>如果没有定义任何命名空间，所有的类与函数的定义都是在全局空间。</p>
<p>在PHP的命名空间默认为\，所有的函数和类都在\这个命名空间中</p>
<p>如果直接写函数名function_name()调用，调用的时候其实相当于写了一个相对路径</p>
<p>而如果写\function_name() 这样调用函数，则其实是写了一个绝对路径。如果在其他namespace里调用系统类，就必须写绝对路径这种写法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;全局空间的使用
&lt;?php
namespace A\B\C;
&#x2F;* 这个函数是 A\B\C\fopen() *&#x2F;
function fopen() &#123; 
$f &#x3D; \fopen(...); &#x2F;&#x2F; 调用全局的fopen函数
return $f;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="定义命名空间"><a href="#定义命名空间" class="headerlink" title="定义命名空间"></a>定义命名空间</h4><h5 id="声明单个命名空间"><a href="#声明单个命名空间" class="headerlink" title="声明单个命名空间"></a>声明单个命名空间</h5><p>虽然任意合法的PHP代码都可以包含在命名空间中，但只有以下类型的代码受命名空间的影响</p>
<p>如：类（包括抽象类和trait）、接口、函数和常量。</p>
<p>命名空间通过关键字namespace来声明，如果一个文件中包含命名空间、他必须在其他所有代码之前声明空间、除了declare关键字以外。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    
&#x2F;&#x2F;declare(encoding&#x3D;&#39;UTF-8&#39;);
    
namespace common;

const PI&#x3D;3.1415926;

function showMsg($msg)&#123;
    echo &quot;&lt;script&gt;alert(&#39;$msg&#39;)&lt;&#x2F;script&gt;&quot;;
&#125;
&#x2F;&#x2F;重写系统函数时需要加上命名空间，否则会报错
&#x2F;&#x2F;不推荐重写系统函数
function pow()&#123;
    pow();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
include &quot;global.php&quot;;
include &quot;common.php&quot;;
&#x2F;&#x2F;命名空间内函数和常量的调用
common\showMsg(&#39;使用alert弹出信息&#39;);
var_dump(\common\PI);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="声明多个命名空间"><a href="#声明多个命名空间" class="headerlink" title="声明多个命名空间"></a>声明多个命名空间</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php  
namespace MyProject;

const CONNECT_OK &#x3D; 1;
class Connection &#123; &#x2F;* ... *&#x2F; &#125;
function connect() &#123; &#x2F;* ... *&#x2F;  &#125;

namespace AnotherProject;

const CONNECT_OK &#x3D; 1;
class Connection &#123; &#x2F;* ... *&#x2F; &#125;
function connect() &#123; &#x2F;* ... *&#x2F;  &#125;
?&gt;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不过声明多个命名空间的时候，不建议使用上述方法，建议使用大括号形式的语法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
namespace MyProject &#123;
    const CONNECT_OK &#x3D; 1;
    class Connection &#123; &#x2F;* ... *&#x2F; &#125;
    function connect() &#123; &#x2F;* ... *&#x2F;  &#125;
&#125;

namespace AnotherProject &#123;
    const CONNECT_OK &#x3D; 1;
    class Connection &#123; &#x2F;* ... *&#x2F; &#125;
    function connect() &#123; &#x2F;* ... *&#x2F;  &#125;
&#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当全局的非命名空间中的代码要与命名空间中的代码组合在一起，只能使用大括号形式的语法。全局代码必须使用一个不带名称的namespace语句加上大括号括起来</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
namespace MyProject &#123;&#x2F;&#x2F; 命名空间中的代码
const CONNECT_OK &#x3D; 1;
class Connection &#123; &#x2F;* ... *&#x2F; &#125;
function connect() &#123; &#x2F;* ... *&#x2F;  &#125;
&#125;

namespace &#123; &#x2F;&#x2F; 全局代码
session_start();
$a &#x3D; MyProject\connect();
echo MyProject\Connection::start();
&#125;
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h5 id="定义子命名空间"><a href="#定义子命名空间" class="headerlink" title="定义子命名空间"></a>定义子命名空间</h5><p>与目录和文件的关系很象，PHP 命名空间也允许指定层次化的命名空间的名称。因此，命名空间的名字可以使用分层次的方式定义</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;在phpClass\php_interface的目录下的Student类
&#x2F;&#x2F;类似文件夹路径
&lt;?php

namespace phpClass\php_interface;
class Student
&#123;
    private $name;
    private $id;
    &#x2F;**
     * Student constructor.
     * @param $name
     * @param $id
     *&#x2F;
    public function __construct($name, $id)
    &#123;
        $this-&gt;name &#x3D; $name;
        $this-&gt;id &#x3D; $id;
    &#125;

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;在phpClass目录下的student类
&lt;?php

namespace phpClass;

class student
&#123;
    private $no;
    private $name;
    private $gender;
    private $age;

    &#x2F;**
     * student constructor.
     * @param $no
     * @param $name
     * @param $gender
     * @param $age
     *&#x2F;
    public function __construct($no, $name, $gender, $age)
    &#123;
        $this-&gt;no &#x3D; $no;
        $this-&gt;name &#x3D; $name;
        $this-&gt;gender &#x3D; $gender;
        $this-&gt;age &#x3D; $age;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;test，用命名空间去调用student类
&lt;?php
include &quot;global.php&quot;;
var_dump(new phpclass\php_interface\student(12,&quot;wwh&quot;));
var_dump(new phpclass\Student(13,&quot;wwh&quot;,&quot;man&quot;,18));

&#x2F;*D:\wamp64\www\namespace.php:3:
object(phpClass\php_interface\Student)[3]
  private &#39;name&#39; &#x3D;&gt; int 12
  private &#39;id&#39; &#x3D;&gt; string &#39;wwh&#39; (length&#x3D;3)
D:\wamp64\www\namespace.php:4:
object(phpClass\student)[3]
  private &#39;no&#39; &#x3D;&gt; int 13
  private &#39;name&#39; &#x3D;&gt; string &#39;wwh&#39; (length&#x3D;3)
  private &#39;gender&#39; &#x3D;&gt; string &#39;man&#39; (length&#x3D;3)
  private &#39;age&#39; &#x3D;&gt; int 18*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="使用命名空间"><a href="#使用命名空间" class="headerlink" title="使用命名空间"></a><strong>使用命名空间</strong></h4><h5 id="非限定名称"><a href="#非限定名称" class="headerlink" title="非限定名称"></a>非限定名称</h5><p>或称为不包含前缀的类名称</p>
<p>如果命名空间中的函数或常量未定义，则该非限定的函数名称或常量名称会被解析为全局函数名称或常量名称。</p>
<p>如果使用 foo 的代码是全局的，不包含在任何命名空间中的代码，则 foo 会被解析为foo。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$a&#x3D;new foo();&#x2F;&#x2F;等价于foo::staticmethod()
&#x2F;&#x2F;若当前命名空间为currentnamespace
&#x2F;&#x2F;foo 将被解析为 currentnamespace\foo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="限定名称"><a href="#限定名称" class="headerlink" title="限定名称"></a>限定名称</h5><p>或包含前缀的名称</p>
<p>如果使用 foo 的代码是全局的，不包含在任何命名空间中的代码，foo 会被解析为subnamespace\foo。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$a &#x3D; new subnamespace\foo();&#x2F;&#x2F;等价于subnamespace\foo::staticmethod();
&#x2F;&#x2F;若当前命名空间为currentnamespace
&#x2F;&#x2F;foo 会被解析为 currentnamespace\subnamespace\foo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="完全限定名称"><a href="#完全限定名称" class="headerlink" title="完全限定名称"></a>完全限定名称</h5><p>或包含了全局前缀操作符的名称</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$a &#x3D; new \currentnamespace\foo();&#x2F;&#x2F;等价于\currentnamespace\foo::staticmethod();
&#x2F;&#x2F;foo 总是被解析为代码中的文字名(literal name)currentnamespace\foo。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="别名-导入"><a href="#别名-导入" class="headerlink" title="别名/导入"></a>别名/导入</h5><p>PHP中有两种使用别名或导入方式：</p>
<ol>
<li>为类名称使用别名</li>
<li>为命名空间名称使用别名</li>
</ol>
<p>别名是通过操作符use来实现的</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
include &quot;global.php&quot;;
include &quot;common.php&quot;;
&#x2F;&#x2F;用use定义别名
use phpclass\php_interface\Student as pps;
use phpclass\php_interface as pp;
use phpclass as p;
&#x2F;&#x2F;常规方法
var_dump(new phpclass\php_interface\Student(&quot;wwh&quot;,12));
var_dump(new phpclass\Student(13,&quot;wwh&quot;,&quot;man&quot;,18));
&#x2F;&#x2F;别名引入方法
var_dump(new pps(&quot;wwh&quot;,13));
var_dump(new pp\Student(&quot;zhangsan&quot;,15));
var_dump(new p\student(17,&quot;lisi&quot;,&quot;woman&quot;,20));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="错误和异常处理"><a href="#错误和异常处理" class="headerlink" title="错误和异常处理"></a>错误和异常处理</h2><h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><h4 id="错误类型"><a href="#错误类型" class="headerlink" title="错误类型"></a>错误类型</h4><h5 id="语法错误"><a href="#语法错误" class="headerlink" title="语法错误"></a>语法错误</h5><p>最常见，最容易修复。（遗漏了一个分号之类的）。</p>
<p>该类错误会阻止脚本执行。</p>
<h5 id="运行时错误"><a href="#运行时错误" class="headerlink" title="运行时错误"></a>运行时错误</h5><p>运行时错误出现时不会阻止PHP脚本运行，但会阻止脚本做希望它所做的任何事情。</p>
<p>比如除数为零的错误，它没法计算出结果，但是PHP会显示一条消息来指示准确的问题。</p>
<h5 id="逻辑错误"><a href="#逻辑错误" class="headerlink" title="逻辑错误"></a>逻辑错误</h5><p>PHP不会报告逻辑错误，他们不明显，不会阻止PHP脚本的运行，最难处理。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--做加法运算的表单--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        +
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>求和<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;处理页面
$input1 &#x3D; $_GET[&#39;input1&#39;];
$input2 &#x3D; $_GET[&#39;input2&#39;];
&#x2F;&#x2F;本要做加法，在处理页面写成减法
$result &#x3D; (int)$input1 - (int)$input2;
echo $result;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上情况能运行，不报错，但是结果不对，原因是编写处理页面时出错，这就是逻辑错误</p>
<h4 id="错误显示"><a href="#错误显示" class="headerlink" title="错误显示"></a>错误显示</h4><p>方法一：</p>
<p>在PHP配置文件php.ini中，查找到display_errors</p>
<p>display_errors = On/Off</p>
<p>当display_errors的值为Off，出现错误时，网页不会报错，会直接显示网页无法正常运作，但是通常我们将该值设置为On</p>
<p>方法二：</p>
<p>我们可以在php文件中直接设置display_errors的值</p>
<p>默认值为1， 该选项设置是否将错误信息作为输出的一部分显示到屏幕，或者对用户隐藏而不显示</p>
<p>值为0时，显示网页无法正常运作</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
ini_set(&quot;display_errors&quot;,0);
$input1 &#x3D; $_GET[&#39;input1&#39;];
$input2 &#x3D; $_GET[&#39;input2&#39;];
$result &#x3D; (int)$input1 + (int)$input2;
echo $result;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="错误报告"><a href="#错误报告" class="headerlink" title="错误报告"></a>错误报告</h4><h5 id="错误报告的级别"><a href="#错误报告的级别" class="headerlink" title="错误报告的级别"></a>错误报告的级别</h5><p>PHP Manual›函数参考›影响 PHP 行为的扩展››错误处理和日志记录›预定义常量</p>
<p>主要是以下三类：</p>
<ol>
<li><p>注意（notice）：这不会阻止脚本的执行，并且可能不一定是一个问题</p>
</li>
<li><p>警告（warming）：这指示一个问题，但是不会阻止脚本的执行</p>
</li>
<li><p>错误（error）：这会阻止脚本继续执行（包括常见的解析错误，它从根本上阻止脚本运行）</p>
<p>相关设置：可以通过代码和php.ini配置进行调整</p>
<p>error_reporting(0); </p>
<p>设置为0会完全关闭错误报告（错误仍会发生，只是你不再会看到它们）</p>
<p>error_reporting (E_ALL &amp; ~E_NOTICE);</p>
<p>任何非通知类的错误</p>
<p>error_reporting(E_ALL | E_STRICT);</p>
<p>由于E_ALL不包含E_STRICT，所以又加上了“E_STRICT”</p>
</li>
</ol>
<h5 id="错误报告的调整"><a href="#错误报告的调整" class="headerlink" title="错误报告的调整"></a>错误报告的调整</h5><p>可以使用trigger_error()函数创建用户自定义的错误消息</p>
<p>该函数用于在用户指定的条件下触发一个错误信息。它可以与内建的错误处理程序一起使用，或者与由 set_error_handler() 函数设置的用户自定义函数一起使用。</p>
<p>语法：</p>
<p>trigger_error(error_message,error_types)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>error_message</td>
<td>必需。规定错误消息。长度限制为 1024 个字符。</td>
</tr>
<tr>
<td>error_types</td>
<td>可选。规定错误消息的错误类型。</td>
</tr>
</tbody></table>
<p>error_types可能的错误类型：</p>
<ul>
<li>E_USER_ERROR - 用户生成的运行时的致命错误。不能恢复的错误。停止执行脚本。</li>
<li>E_USER_WARNING - 用户生成的运行时的非致命警告。脚本没有停止执行。</li>
<li>E_USER_NOTICE - 默认。用户生成的运行时的通知。脚本发现可能是一个错误，但也可能在脚本正常运行时发生。</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php

&#x2F;&#x2F;定义一个学生类
class Student
&#123;
    private $age;

    public function getAge()
    &#123;
        return $this-&gt;age;
    &#125;

    public function setAge($age)
    &#123;
        if($age &lt; 0 ||$age &gt; 120)&#123;
			&#x2F;&#x2F;用trigger_error()自定义错误信息以及错误种类
            trigger_error(&quot;年龄输入不合理&quot;,E_USER_ERROR);
        &#125;else&#123;
            $this-&gt;age &#x3D; $age;
        &#125;
    &#125;
&#125;
$zhangsan &#x3D; new Student();
&#x2F;&#x2F;输入的年龄为125，触发错误
$zhangsan-&gt;setAge(125);
var_dump($zhangsan);
&#x2F;*Fatal error: 年龄输入不合理 in D:\wamp64\www\phpError\Student.php on line 17*&#x2F;

&#x2F;*当值为默认，即E_USER_NOTICE时
运行结果为
Notice: 年龄输入不合理 in D:\wamp64\www\phpError\Student.php on line 17
D:\wamp64\www\phpError\Student.php:25:
object(Student)[1]
  private &#39;age&#39; &#x3D;&gt; null*&#x2F;

&#x2F;*当值为E_USER_WARNING，时
运行结果为
Warning: 年龄输入不合理 in D:\wamp64\www\phpError\Student.php on line 17
D:\wamp64\www\phpError\Student.php:25:
object(Student)[1]
  private &#39;age&#39; &#x3D;&gt; null*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="错误抑制符"><a href="#错误抑制符" class="headerlink" title="错误抑制符"></a>错误抑制符</h4><p>在PHP中，可以使用@运算符来抑制单个错误。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;不显示包含一个不存在的文件的错误
@(include &quot;Student1.php&quot;);

&#x2F;&#x2F;不显示除0的错误
$a&#x3D;1;
$b&#x3D;0;
echo @($a&#x2F;$b);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意：像函数调用或数学运算一样，@符号只能处理表达式。</p>
<h4 id="die和exit语法构造"><a href="#die和exit语法构造" class="headerlink" title="die和exit语法构造"></a>die和exit语法构造</h4><p>die()可以输出一个消息，并且退出当前脚本</p>
<p>语法：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>message</td>
<td>必需。</td>
</tr>
</tbody></table>
<p>当message是一个字符串，则在退出脚本时会打印该字符串。</p>
<p>当message是一个integer，则该值会被作为退出的状态码，不会被打印。</p>
<p>退出状态码的值应该在范围0~254之间，不应该使用被PHP保留的退出状态码255；状态码0用于成功中止程序。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
@(include &quot;Student1.php&quot;) or die(&quot;Student1.php文件不存在&quot;);
echo &#39;1&#39;;
&#x2F;&#x2F;结果：Student1.php文件不存在<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>die()是exit()的别名，作用相同</p>
<h4 id="自定义错误处理程序"><a href="#自定义错误处理程序" class="headerlink" title="自定义错误处理程序"></a>自定义错误处理程序</h4><p>创建一个自定义错误处理的php文件common</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;定义默认为线上环境
define(&#39;LIVE&#39;,true);
&#x2F;&#x2F;自定义错误处理的函数，这几个参数都是默认的
function my_error_handler ($e_number, $e_message, $e_file, $e_line, $e_vars)&#123;
    &#x2F;&#x2F;当是线上环境时发生的错误
    if(LIVE)&#123;
        echo &#39;&lt;div&gt;系统错误，请联系管理员&lt;&#x2F;div&gt;&#39;;
    &#125;else&#123;
        echo &quot;在文件&#123;$e_file&#125;中发生了错误，错误为&#123;$e_message&#125;&quot;;
    &#125;
&#125;
&#x2F;&#x2F;自定义错误处理函数注册
set_error_handler(&#39;my_error_handler&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;包含自定义错误处理文件
include &quot;common.php&quot;;
&#x2F;&#x2F;包含一个不存在的文件
include &quot;sss.php&quot;;
&#x2F;*系统错误，请联系管理员
系统错误，请联系管理员*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当建立了自定义错误处理函数时，错误报告的级别与display_errors的设置都不再有意义，因为自定义错误处理函数会控制是否显示错误。</p>
<h4 id="记录PHP错误"><a href="#记录PHP错误" class="headerlink" title="记录PHP错误"></a>记录PHP错误</h4><p>以某种方式为PHP的错误建立起永久的记录。</p>
<p>首先要设置php.ini中log_errors = On，表示要记录日志</p>
<p>再找到error_log 配置error_log =”d:/wamp64/logs/php_error.log”，表示错误记录的位置</p>
<p>语法：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">error_log (message, type, destination, extra headers);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">error</td>
<td align="left">必需。要记录的错误消息。</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">可选。规定错误记录的类型。 可能的记录类型：0 - 默认。根据在 php.ini 文件中的 error_log 配置，错误被发送到服务器日志系统或文件。1 - 错误被发送到 destination 参数中的地址。只有该类型使用 headers 参数。2 - 通过 PHP debugging 连接来发送错误。该选项只在 PHP 3 中可用。3 - 错误发送到文件目标字符串。</td>
</tr>
<tr>
<td align="left">destination</td>
<td align="left">可选。规定向何处发送错误消息。该参数的值依赖于 “type” 参数的值。</td>
</tr>
<tr>
<td align="left">headers</td>
<td align="left">可选。只在 “type” 参数为 1 时使用。规定附加的头部，比如 From, Cc 以及 Bcc。附加头部由 CRLF (\r\n) 分隔。<strong>注意：</strong>在发送电子邮件时，必须包含 From 头部。可以在 php.ini 文件中或者通过此参数设置。</td>
</tr>
</tbody></table>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><h4 id="异常及基本使用"><a href="#异常及基本使用" class="headerlink" title="异常及基本使用"></a>异常及基本使用</h4><p>意料之外的事件称为异常</p>
<p>我们可以通过throw 一个 Exception对象来处理异常</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php


class Student
&#123;
    private $age;

    public function getAge()
    &#123;
        return $this-&gt;age;
    &#125;

    public function setAge($age)
    &#123;
        if($age &lt; 0 ||$age &gt; 120)&#123;
&#x2F;&#x2F;          trigger_error(&quot;年龄输入不合理&quot;,E_USER_ERROR);
            throw new Exception(&quot;年龄输入不合理&quot;);
        &#125;else&#123;
            $this-&gt;age &#x3D; $age;
        &#125;
    &#125;
&#125;
$zhangsan &#x3D; new Student();
$zhangsan-&gt;setAge(125);
var_dump($zhangsan);
&#x2F;* Fatal error: Uncaught Exception: 年龄输入不合理 in D:\wamp64\www\phpError\Student.php on line 18
  Exception: 年龄输入不合理 in D:\wamp64\www\phpError\Student.php on line 18*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="try、-throw-、catch以及finally"><a href="#try、-throw-、catch以及finally" class="headerlink" title="try、 throw 、catch以及finally"></a><strong>try、 throw 、catch以及finally</strong></h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php


class Student
&#123;
    private $age;

    public function getAge()
    &#123;
        return $this-&gt;age;
    &#125;

    public function setAge($age)
    &#123;
        if($age &lt; 0 ||$age &gt; 120)&#123;
            throw new Exception(&quot;年龄输入不合理&quot;);
        &#125;else&#123;
            $this-&gt;age &#x3D; $age;
        &#125;
    &#125;
&#125;

$zhangsan &#x3D; new Student();

try &#123;
	&#x2F;&#x2F;把可能出现异常的语句用try&#123;&#125;包裹起来
    $zhangsan-&gt;setAge(125);
&#125;catch (Exception $e)&#123;
	&#x2F;&#x2F;捕获异常对象，并且用getMessage()输出
    echo &quot;Message:&quot;.$e-&gt;getMessage().&quot;&lt;br&gt;&quot;;
&#125; finally &#123;
    &#x2F;&#x2F;在所有catch语句结束后会执行finally里的语句
    &#x2F;&#x2F;尽管出现异常，finally里面的代码也一定会执行
    echo &quot;执行完成&quot;.&quot;&lt;br&gt;&quot;;
&#125;

&#x2F;&#x2F;输出异常后的语句
echo &quot;1&quot;;
var_dump($zhangsan);
&#x2F;*Message:年龄输入不合理
执行完成
1
D:\wamp64\www\phpError\Student.php:35:
object(Student)[1]
  private &#39;age&#39; &#x3D;&gt; null*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们可以通过这种方式使异常信息很容易地被人理解，并且抛出异常后不会因为此异常而终止脚本的运行</p>
<h4 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h4><p>Exception是所有异常类的基类，想要自定义异常类，都需要继承Exception类</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
class CustomException extends Exception
&#123;
    function getError()&#123;
        echo &quot;Message:&#123;$this-&gt;getMessage()&#125;,File:&#123;$this-&gt;getFile()&#125;,Line:&#123;$this-&gt;getLine()&#125;&quot;;
    &#125;
&#125;


throw new CustomException();
&#x2F;&#x2F;未调用自定义异常方法时的输出
&#x2F;*Fatal error: Uncaught CustomException: Error:can not be negative in D:\wamp64\www\phpError\CustomException.php on line 12
 CustomException: Error:can not be negative in D:\wamp64\www\phpError\CustomException.php on line 12*&#x2F;

try &#123;
    throw new CustomException(&quot;Error:can not be negative&quot;);
&#125;catch (CustomException $e)&#123;
    echo $e-&gt;getError();
&#125;
&#x2F;&#x2F;调用自定义异常方法时的输出
&#x2F;&#x2F;Message:Error:can not be negative,File:D:\wamp64\www\phpError\CustomException.php,Line:12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="处理多个异常"><a href="#处理多个异常" class="headerlink" title="处理多个异常"></a>处理多个异常</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php


class CustomException extends Exception
&#123;
    function getError()&#123;
        echo &quot;Message:&#123;$this-&gt;getMessage()&#125;,File:&#123;$this-&gt;getFile()&#125;,Line:&#123;$this-&gt;getLine()&#125;&quot;;
    &#125;
&#125;

$a&#x3D;1;

try &#123;
    &#x2F;&#x2F;根据a的情况的不同抛出不同的异常对象
    if ($a&lt;0)&#123;
        throw new CustomException(&quot;can not be negative&quot;);
    &#125;else&#123;
        throw new Exception(&quot;$a&quot;);
    &#125;
&#125; catch (CustomException $e)&#123;
    echo $e-&gt;getError();
&#125; catch (Exception $e)&#123;
    echo $e-&gt;getMessage();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意：Exception异常应该放在CustomException异常下面（包括范围越大的放越下面）</p>
<h4 id="顶层异常处理器"><a href="#顶层异常处理器" class="headerlink" title="顶层异常处理器"></a>顶层异常处理器</h4><p>set_exception_handler()</p>
<p>所有未被捕获到的异常都可以用这个方法进行统一处理</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;CustomException.php
class CustomException extends Exception
&#123;
    function getError()&#123;
        echo &quot;Message:&#123;$this-&gt;getMessage()&#125;,File:&#123;$this-&gt;getFile()&#125;,Line:&#123;$this-&gt;getLine()&#125;&quot;;
    &#125;
&#125;

$a&#x3D;1;

try &#123;
    &#x2F;&#x2F;根据a的情况的不同抛出不同的异常对象
    if ($a&lt;0)&#123;
        throw new CustomException(&quot;can not be negative&quot;);
    &#125;else&#123;
        throw new Exception(&quot;$a&quot;);
    &#125;
&#125; catch (CustomException $e)&#123;
    echo $e-&gt;getError();
&#125; catch (Exception $e)&#123;
    echo $e-&gt;getMessage();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;common.php
function my_exception_handler(Exception $e)&#123;
    echo &quot;Message:&#123;$e-&gt;getMessage()&#125;&quot;;
&#125;
set_exception_handler(&quot;my_exception_handler&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">include &quot;common.php&quot;;
include &quot;CustomException.php&quot;;
&#x2F;&#x2F;抛出一个未在CustomException类中catch到的异常
throw new CustomException(&quot;发生异常&quot;);

&#x2F;&#x2F;1Message:发生异常<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="异常的规则"><a href="#异常的规则" class="headerlink" title="异常的规则"></a>异常的规则</h4><ul>
<li>需要进行异常处理的代码应该放入 try 代码块内，以便捕获潜在的异常。</li>
<li>每个 try 或 throw 代码块必须至少拥有一个对应的 catch 代码块。</li>
<li>使用多个 catch 代码块可以捕获不同种类的异常。</li>
</ul>
<h2 id="PHP-amp-MySQL"><a href="#PHP-amp-MySQL" class="headerlink" title="PHP&amp;MySQL"></a>PHP&amp;MySQL</h2><h3 id="mysql与mysqli"><a href="#mysql与mysqli" class="headerlink" title="mysql与mysqli"></a>mysql与mysqli</h3><h4 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h4><ul>
<li>在php5版本之前，一般是用php的mysql函数去驱动mysql数据库的，比如mysql_query()的函数，属于面向过程</li>
<li>在php5版本之后，增加了mysqli的函数功能，该功能在某种意义上是mysql系统函数的增强版，更稳定更高效更安全。与mysql_query()对应的有mysqli_query()，属于面向对象，用对象的方式操作驱动mysql数据库</li>
</ul>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul>
<li>mysql是<strong>非持续连接</strong>函数，mysql<strong>每次链接都会打开一个连接的进程</strong></li>
<li>mysqli是<strong>永远连接</strong>函数，mysqli多次运行mysqli将<strong>使用同一连接进程</strong>,从而减少了服务器的开销。mysqli封装了诸如事务等一些高级操作，同时封装了DB操作过程中的很多可用的方法</li>
<li>使用mysqli有面向过程和面向对象两种方式</li>
</ul>
<p>mysqli提供了三个类：</p>
<ol>
<li>mysqli 连接相关的</li>
<li>mysqli_result 处理结果集</li>
<li>mysqli_stmt 预处理类</li>
</ol>
<h4 id="新特性与优势"><a href="#新特性与优势" class="headerlink" title="新特性与优势"></a>新特性与优势</h4><ul>
<li>mysqli支持本地绑定、准备（prepare）等语法</li>
<li>执行sql语句的错误代码</li>
<li>能同时执行多个sql</li>
<li>提供了面向对象的调用接口的方法</li>
</ul>
<h4 id="mysqli的使用"><a href="#mysqli的使用" class="headerlink" title="mysqli的使用"></a>mysqli的使用</h4><p><strong>启用mysqli：</strong></p>
<p>extension = php_mysqli;</p>
<p><strong>我们可以在单独的文件中存储与数据库连接的信息：</strong></p>
<p>将mysqli构造函数存储在名为connect.php文件中</p>
<p>mysqli对象的参数从左到右分别为：</p>
<p>host：主机名或IP地址</p>
<p>username：用户名</p>
<p>password：密码</p>
<p>dbname：数据库名</p>
<p>port：端口</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;用面向对象方式建立连接
$mysqli &#x3D; new mysqli(&#39;localhost&#39;,&#39;root&#39;,&#39;123456&#39;,&#39;php&#39;,3306);
&#x2F;&#x2F;或者
&#x2F;*$mysqli &#x3D; new mysqli();
$mysqli -&gt; connect(&#39;localhost&#39;,&#39;root&#39;,&#39;123456&#39;,&#39;php&#39;,3306);*&#x2F;

&#x2F;&#x2F;可以增加选择数据库
$mysqli -&gt; select_db(&quot;atm_db&quot;);

&#x2F;&#x2F;检查数据库连接是否成功
if ($mysqli-&gt;connect_errno)&#123;
    &#x2F;&#x2F;当连接出错，返回错误信息并且退出脚本
    die(&#39;连接出错:&#39;.$mysqli-&gt;connect_error);
&#125;else&#123;
    echo &#39;连接成功&#39;;
&#125;

&#x2F;&#x2F;设置字符集编码
$mysqli-&gt;set_charset(&quot;utf8&quot;);
&#x2F;&#x2F;或
&#x2F;&#x2F;$mysqli -&gt;query(&quot;set names &#39;utf8&quot;);

&#x2F;&#x2F;关闭连接
$mysqli -&gt; close();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果我们要在其他文件中使用数据库连接，只需要require该文件即可</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
require_once &quot;connect.php&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="数据的CRUD"><a href="#数据的CRUD" class="headerlink" title="数据的CRUD"></a>数据的CRUD</h3><p>执行sql语句都可用query(sql)，执行失败会返回false，select成功则返回结果集对象，其他返回true，只要不是false就说明sql语句执行成功了。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;导入数据库连接文件
require_once &quot;connect.php&quot;;
&#x2F;&#x2F;执行sql语句，并将结果存入result
$result &#x3D; $mysqli-&gt;query(&#39;select id,name,gender,age from t_student&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数据输出"><a href="#数据输出" class="headerlink" title="数据输出"></a>数据输出</h4><p><strong>取出结果的四种方法：</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;以表格的形式输出
echo &quot;&lt;table border&#x3D;&#39;1&#39; cellpadding&#x3D;&#39;0&#39;&gt;&quot;;
echo &quot;&lt;tr&gt;&quot;;
echo &quot;&lt;th&gt;id&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;gender&lt;&#x2F;th&gt;&lt;th&gt;age&lt;&#x2F;th&gt;&quot;;
echo &quot;&lt;&#x2F;tr&gt;&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>1.fetch_object()</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;以对象方式
while ($row &#x3D; $result-&gt;fetch_object()) &#123;
    echo &quot;&lt;tr&gt;&quot;;
    echo &quot;&lt;td&gt;&#123;$row -&gt; id&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row -&gt; name&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row -&gt; gender&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row -&gt; age&#125;&lt;&#x2F;td&gt;&quot;;
    echo &quot;&lt;&#x2F;tr&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>2.fetch_row()</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;以索引数组的方式
while ($row &#x3D; $result-&gt;fetch_row())&#123;
    echo &quot;&lt;tr&gt;&quot;;
    echo &quot;&lt;td&gt;&#123;$row[0]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[1]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[2]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[3]&#125;&lt;&#x2F;td&gt;&quot;;
    echo &quot;&lt;&#x2F;tr&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>3.fetch_assoc()</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;以关联数组的方式
while ($row &#x3D; $result-&gt;fetch_assoc())&#123;
    echo &quot;&lt;tr&gt;&quot;;
    echo &quot;&lt;td&gt;&#123;$row[&quot;id&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;name&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;gender&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;age&quot;]&#125;&lt;&#x2F;td&gt;&quot;;
    echo &quot;&lt;&#x2F;tr&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>4.fetch_array()</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;可以同时使用关联数组和索引数组的方式
while ($row &#x3D; $result-&gt;fetch_array())&#123;
    echo &quot;&lt;tr&gt;&quot;;
    echo &quot;&lt;td&gt;&#123;$row[&quot;id&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;name&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;gender&quot;]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[&quot;age&quot;]&#125;&lt;&#x2F;td&gt;&quot;;
    &#x2F;&#x2F;或
    &#x2F;&#x2F;echo &quot;&lt;td&gt;&#123;$row[0]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[1]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[2]&#125;&lt;&#x2F;td&gt;&lt;td&gt;&#123;$row[3]&#125;&lt;&#x2F;td&gt;&quot;;
    echo &quot;&lt;&#x2F;tr&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>使用自定义函数动态构建表格</strong></p>
<p>由于想要呈现的数据不同，执行的SQL语句不同，我们每次都需要对静态页面进行修改，这十分麻烦</p>
<p>可以自定义一个函数来根据执行SQL语句后创建的结果来构建一个表格</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    &#x2F;&#x2F;获取SQL语句的处理结果作为函数的参数
    function generateHtmlTable(mysqli_result $result)&#123;
        &#x2F;&#x2F;获取结果所含的字段
    	$fields &#x3D; $result-&gt;fetch_fields();
        echo &quot;&lt;table border&#x3D;&#39;1&#39; cellpadding&#x3D;&#39;0&#39;&gt;&quot;;
        echo &quot;&lt;tr&gt;&quot;;
    	&#x2F;&#x2F;遍历字段，用其字段名作为表的标题
        foreach ($fields as $field)&#123;
            echo &quot;&lt;th&gt;&#123;$field-&gt;name&#125;&lt;&#x2F;th&gt;&quot;;
        &#125;
        echo &quot;&lt;&#x2F;tr&gt;&quot;;
		
    	&#x2F;&#x2F;取出结果	
        while ($row &#x3D; $result-&gt;fetch_assoc())&#123;
            echo &quot;&lt;tr&gt;&quot;;
            &#x2F;&#x2F;用将字段名作为参数去取结果中的值
            foreach ($fields as $field)&#123;
                echo &quot;&lt;th&gt;&#123;$row[$field-&gt;name]&#125;&lt;&#x2F;th&gt;&quot;;
            &#125;
            echo &quot;&lt;&#x2F;tr&gt;&quot;;
        &#125;

    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;调用函数
&lt;?php
require_once &quot;connect.php&quot;;
require_once &quot;utils.php&quot;;
&#x2F;&#x2F;执行sql语句，获得其值
$result &#x3D; $mysqli-&gt;query(&#39;select id,name,gender,age from t_student&#39;);
&#x2F;&#x2F;将上面的结果作为参数传入函数中
generateHtmlTable($result);
$mysqli-&gt;close();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数据插入"><a href="#数据插入" class="headerlink" title="数据插入"></a>数据插入</h4><p>使用前端页面获取数据</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">//city_add.html
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_add.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_no<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>城市编码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_no<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_no<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!--&lt;input type="text" name="city[city_no]" id="city_no">--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>城市名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_name<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!--&lt;input type="text" name="city[city_name]" id="city_name">--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>province_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>省/市名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>province_name<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>province_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!--&lt;input type="text" name="city[province_name]" id="province_name">--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>新增<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过表单提交数据，跳转到php数据处理页面（注释中是通过数组来获取表单数据的方式）</p>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&#x2F;&#x2F;city_add.php
&lt;?php
	require_once &quot;connect.php&quot;;
    $city_no &#x3D; $_POST[&#39;city_no&#39;];
    $city_name &#x3D; $_POST[&#39;city_name&#39;];
    $province_name &#x3D; $_POST[&#39;province_name&#39;];

&#x2F;*    $city &#x3D; $_POST[&#39;city&#39;];
*    var_dump($city);
*    $city_no &#x3D; $city[&#39;city_no&#39;];
*    $city_name &#x3D; $city[&#39;city_name&#39;];
    $province_name &#x3D; $city[&#39;province_name&#39;];*&#x2F;

    $sql &#x3D; &quot;insert into t_city_201841054092(city_no,city_name,province_name) value (&#39;$city_no&#39;,&#39;$city_name&#39;,&#39;$province_name&#39;)&quot;;

    $result &#x3D; $mysqli-&gt;query($sql);

    if ($result &#x3D;&#x3D;&#x3D; false)&#123;
        die(&#39;error&#39;.$mysqli-&gt;error);
    &#125;

    echo &quot;插入成功的记录数：&quot;,$mysqli-&gt;affected_rows,&quot;&lt;br&gt;&quot;;
    echo &quot;插入记录的id为：&quot;,$mysqli-&gt;insert_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数据删除"><a href="#数据删除" class="headerlink" title="数据删除"></a>数据删除</h4><pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&#x2F;&#x2F;test_delete.php
&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;

&lt;?php
    &#x2F;&#x2F;构建数据表
    require_once &quot;connect.php&quot;;
    echo &quot;&lt;table border&#x3D;&#39;1&#39; cellpadding&#x3D;&#39;0&#39;&gt;&quot;;
    echo &quot;&lt;tr&gt;&quot;;
    echo &quot;&lt;th&gt;id&lt;&#x2F;th&gt;&lt;th&gt;city_no&lt;&#x2F;th&gt;&lt;th&gt;city_name&lt;&#x2F;th&gt;&lt;th&gt;province_name&lt;&#x2F;th&gt;&lt;th&gt;option&lt;&#x2F;th&gt;&quot;;
    echo &quot;&lt;&#x2F;tr&gt;&quot;;


    $result &#x3D; $mysqli-&gt;query(&#39;select * from t_city_201841054092&#39;);

    while ($row &#x3D; $result-&gt;fetch_assoc())&#123;
        echo &quot;&lt;tr&gt;&quot;;
        echo &quot;&lt;td&gt;&#123;$row[&quot;id&quot;]&#125;&lt;&#x2F;td&gt;
        &lt;td&gt;&#123;$row[&quot;city_no&quot;]&#125;&lt;&#x2F;td&gt;
        &lt;td&gt;&#123;$row[&quot;city_name&quot;]&#125;&lt;&#x2F;td&gt;
        &lt;td&gt;&#123;$row[&quot;province_name&quot;]&#125;&lt;&#x2F;td&gt;
        &#x2F;&#x2F;为删除按钮加入一个a标签，标签指向数据处理页面，并且通过拼串的方式传入要处理的数据的id
        &lt;td&gt;&lt;a href &#x3D; &#39;city_delete.php?id&#x3D;&#123;$row[&quot;id&quot;]&#125;&#39;&gt;delete&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;&quot;;
        echo &quot;&lt;&#x2F;tr&gt;&quot;;
    &#125;
?&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;city_delete.php
&lt;?php
    require_once &quot;connect.php&quot;;
	&#x2F;&#x2F;获取传来的id
    $id &#x3D; $_GET[&#39;id&#39;];
	&#x2F;&#x2F;执行sql语句
    $sql &#x3D; &quot;delete from t_city_201841054092 where id &#x3D; $id&quot;;
    $result &#x3D; $mysqli-&gt;query($sql);
	&#x2F;&#x2F;返回操作信息
    if ($result &#x3D;&#x3D;&#x3D; false)&#123;
        die(&#39;error&#39;.$mysqli-&gt;error);
    &#125;
    if($mysqli-&gt;affected_rows &#x3D;&#x3D;&#x3D;1)&#123;
        echo &quot;&lt;script&gt;window.location&#x3D;&#39;test_delete.php&#39;&lt;&#x2F;script&gt;&quot;;
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="预处理"><a href="#预处理" class="headerlink" title="预处理"></a>预处理</h3><p>用上述删除数据的方式容易被SQL注入等方式攻击，因此我们可以使用<strong>预处理类mysqli_stmt</strong>来<strong>防止SQL注入</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;预处理能有效的防止sql注入的产生，mysqli_stmt是预处理类
require_once &quot;connect.php&quot;;
$id &#x3D; $_GET[&#39;id&#39;];
&#x2F;&#x2F;$id &#x3D; &#39;33 or 1 &#x3D;1&#39;;
&#x2F;&#x2F;创建sql语句，用?作为占位符
$sql &#x3D; &quot;delete from t_city_201841054092 where id &#x3D; ?&quot;;

&#x2F;&#x2F;1、创建语句对象
$stmt &#x3D; $mysqli-&gt;stmt_init();
&#x2F;&#x2F;2、执行准备语句
$stmt -&gt; prepare($sql);
&#x2F;&#x2F;3、绑定参数 i:integer  d:double、float b:blob s:其他数据类型
$stmt-&gt;bind_param(&#39;i&#39;,$id);
&#x2F;&#x2F;4、执行语句
$stmt-&gt;execute();

if($stmt-&gt;errno)&#123;
    die(&#39;error:&#39;.$mysqli-&gt;error);
&#125;

if ($mysqli-&gt;affected_rows &#x3D;&#x3D;&#x3D; 1) &#123;
    echo &quot;&lt;script&gt;window.location&#x3D;&#39;test_delete.php&#39;&lt;&#x2F;script&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>数据库事务（database transaction）是在单个会话期间运行的一系列有序的数据库操作。例如，你可能插入一条记录到一个表中，插入另一条记录到另一个表中，或许还会运行更新。如果不使用事务，每个独立的查询就会立即生效并且不能撤销。使用事务，就可以设置起点和终点，然后根据需要运行或撤销所有的查询。</p>
<p> 事务的ACID特性：<br>     1、原子性：事务的所有步骤都必须成功完成；否则，任何步骤都不会被提交；<br>     2、一致性：事务的所有步骤都必须成功完成；否则，所有数据都将恢复到事务开始前的状态；<br>     3、隔离性：未完成事务所做的步骤必须与系统隔离，直到认为事务完成为止；<br>     4、持久性：所有提交的数据都必须由系统以某种方式保存：一旦系统出现故障，数据可以成功地返回到合法的状态。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
include &quot;connect.php&quot;;
&#x2F;&#x2F;关闭自动提交
$mysqli-&gt;autocommit(false);
$sql1 &#x3D; &quot;update account set balance &#x3D; balance + 500 where id &#x3D; 1&quot;;
&#x2F;&#x2F;下列sql语句中的if语句的意思是，如果balance - 500 &gt;&#x3D; 0，则balance的值-500，否则不变
$sql2 &#x3D; &quot;update account set balance &#x3D; if(balance - 500 &gt;&#x3D; 0, balance - 500,balance) where id &#x3D; 2&quot;;
$mysqli-&gt;query($sql1);
$mysqli-&gt;query($sql2);

&#x2F;&#x2F;判断是否为自己想要的结果
if($mysqli-&gt;affected_rows &gt; 0)&#123;
    &#x2F;&#x2F;执行生效则提交
    $mysqli-&gt;commit();
   &#125;else&#123;
    &#x2F;&#x2F;执行不生效则回滚，撤销上述sql操作
    $mysqli-&gt;rollback();
&#125;
echo &quot;执行结束&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="字符串和正则"><a href="#字符串和正则" class="headerlink" title="字符串和正则"></a>字符串和正则</h2><h3 id="字符串常用函数"><a href="#字符串常用函数" class="headerlink" title="字符串常用函数"></a>字符串常用函数</h3><h4 id="strlen"><a href="#strlen" class="headerlink" title="strlen()"></a>strlen()</h4><p>判断字符串长度</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str &#x3D; &quot;zhangsan张三&quot;;
echo strlen($str);&#x2F;&#x2F;14
&#x2F;&#x2F;utf8中中文一个字占3个字节，不同的字符集中文占的字节数不同<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="strcmp"><a href="#strcmp" class="headerlink" title="strcmp()"></a>strcmp()</h4><p>通过ASCLL码比较两个字符串（区分大小写）</p>
<p>0：两者相等</p>
<p>-1：str1 &lt; str2 </p>
<p>1: str1 &gt; str2</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strcmp(&quot;A&quot;,&quot;a&quot;);&#x2F;&#x2F;-1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strcasecmp"><a href="#strcasecmp" class="headerlink" title="strcasecmp()"></a>strcasecmp()</h4><p>通过ASCLL码比较两个字符串（不区分大小写）</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strcasecmp(&quot;A&quot;,&quot;a&quot;);&#x2F;&#x2F;0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strtolower"><a href="#strtolower" class="headerlink" title="strtolower()"></a>strtolower()</h4><p>字符串大写转小写</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strtolower(&#39;Hello&#39;);&#x2F;&#x2F;hello<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strtoupper"><a href="#strtoupper" class="headerlink" title="strtoupper()"></a>strtoupper()</h4><p>字符串小写转大写</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strtoupper(&#39;hello&#39;);&#x2F;&#x2F;HELLO<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="ucfirst"><a href="#ucfirst" class="headerlink" title="ucfirst()"></a>ucfirst()</h4><p>将字符串的第一个字符大写</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo ucfirst(&#39;hello&#39;);&#x2F;&#x2F;Hello<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="ucwords"><a href="#ucwords" class="headerlink" title="ucwords()"></a>ucwords()</h4><p>将字符串中每个单词的首字母变为大写</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo ucwords(&#39;hello world&#39;);&#x2F;&#x2F;Hello World<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="nl2br"><a href="#nl2br" class="headerlink" title="nl2br()"></a>nl2br()</h4><p>将字符串中的换行符转换为html中的<br/></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo nl2br(&quot;a
b
c&quot;);
&#x2F;*a
*b
c*&#x2F;
echo &quot;a
b
c&quot;;
&#x2F;&#x2F;a b c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="htmlspecialchars"><a href="#htmlspecialchars" class="headerlink" title="htmlspecialchars()"></a>htmlspecialchars()</h4><p>输出字符串中的html转义字符</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str2 &#x3D; &quot;&lt;font color&#x3D;&#39;red&#39;&gt;变红&lt;&#x2F;font&gt;&quot;;
echo $str2;&#x2F;&#x2F;变红
$str2&#x3D; htmlspecialchars($str2);
echo $str2;&#x2F;&#x2F;&lt;font color&#x3D;&#39;red&#39;&gt;变红&lt;&#x2F;font&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="strip-tags"><a href="#strip-tags" class="headerlink" title="strip_tags()"></a>strip_tags()</h4><p>将html转换为纯文本</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str3 &#x3D; &quot;&lt;b&gt;加粗&lt;&#x2F;b&gt;&quot;;
echo $str3;&#x2F;&#x2F;加粗（加粗了）
echo strip_tags($str3);&#x2F;&#x2F;加粗（未加粗）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="strpos"><a href="#strpos" class="headerlink" title="strpos()"></a>strpos()</h4><p>查找字符串首次出现的位置（区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strpos(&#39;abc&#39;,&#39;b&#39;);&#x2F;&#x2F;1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="stripos"><a href="#stripos" class="headerlink" title="stripos()"></a>stripos()</h4><p>查找字符串首次出现的位置（不区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo stripos(&#39;aBc&#39;,&#39;b&#39;);&#x2F;&#x2F;1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strrpos"><a href="#strrpos" class="headerlink" title="strrpos()"></a>strrpos()</h4><p>计算指定字符串在目标字符串中最后一次出现的位置（区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strrpos(&#39;abcaaaBc&#39;,&#39;aBc&#39;);&#x2F;&#x2F;5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strripos"><a href="#strripos" class="headerlink" title="strripos()"></a>strripos()</h4><p>计算指定字符串在目标字符串中最后一次出现的位置（不区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strripos(&#39;aBcaaaBc&#39;,&#39;abc&#39;);&#x2F;&#x2F;5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="strstr"><a href="#strstr" class="headerlink" title="strstr()"></a>strstr()</h4><p>查找字符串的首次出现（区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo strstr(&#39;abcaBcddd&#39;,&#39;aBc&#39;);&#x2F;&#x2F;aBcddd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="stristr"><a href="#stristr" class="headerlink" title="stristr()"></a>stristr()</h4><p>查找字符串的首次出现（不区分大小写）</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo stristr(&#39;abcaBc&#39;,&#39;ca&#39;);&#x2F;&#x2F;caBc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="substr"><a href="#substr" class="headerlink" title="substr()"></a>substr()</h4><p>返回字符串的子串</p>
<p>substr( $str, $start, $length) </p>
<p>$str，需要截断的字符串</p>
<p>$start，截断开始处，起始处为0 </p>
<p>$length，要截取的字数</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo substr(&#39;abcdef&#39;, 1); &#x2F;&#x2F; bcdef,从下标为1开始截
echo substr(&#39;abcdef&#39;, 1, 3); &#x2F;&#x2F; bcd，从下标为1开始截3个
echo substr(&#39;abcdef&#39;, 0, 4); &#x2F;&#x2F; abcd
echo substr(&#39;abcdef&#39;, 0, 8); &#x2F;&#x2F; abcdef
echo substr(&#39;abcdef&#39;, -1, 1); &#x2F;&#x2F; f，倒数第一个开始截取一个

&#x2F;&#x2F; 访问字符串中的单个字符
&#x2F;&#x2F; 也可以使用中括号
$string &#x3D; &#39;abcdef&#39;;
echo $string[0]; &#x2F;&#x2F; a
echo $string[3]; &#x2F;&#x2F; d
echo $string[strlen($string)-1]; &#x2F;&#x2F; f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="mb-substr"><a href="#mb-substr" class="headerlink" title="mb_substr()"></a>mb_substr()</h4><p>获取字符串的部分(中文截取)</p>
<p>mb_substr( $str, $start, $length, $encoding ) </p>
<p>$str，需要截断的字符串</p>
<p>$start，截断开始处，起始处为0 </p>
<p>$length，要截取的字数</p>
<p>$encoding，网页编码，如utf-8,GB2312,GBK </p>
<p>因为在不同的字符集编码中，中文占的字节不同，用原始方法截取会出现乱码，所以我们一般在字符串操作前加mb_可以将中文统一视为一个字符。</p>
<p><strong>可作为正则的替代函数</strong></p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str&#x3D;&#39;吴炜瀚&#39;;
&#x2F;&#x2F;从下标为1开始，截取2个字，假定此代码所在php文件的编码为utf-8
echo mb_substr($str,1,2,&#39;utf-8&#39;);&#x2F;&#x2F;&#39;炜瀚&#39;
echo substr($str,0,2) .&quot;&lt;br &#x2F;&gt;&quot;;&#x2F;&#x2F;&#39;�&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="mb-strlen"><a href="#mb-strlen" class="headerlink" title="mb_strlen()"></a>mb_strlen()</h4><p>获取字符串的长度</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str&#x3D;&#39;吴炜瀚&#39;;
echo mb_strlen($str);&#x2F;&#x2F;3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>正则表达式是一个从左到右匹配目标字符串的模式。</p>
<h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p>正则表达式的构成：/原子和元字符/模式修正符</p>
<p>说明：正则表达式的原子和元字符都放在定界符之间，而模式修正符放在定界符之外。</p>
<h4 id="相关函数与符号"><a href="#相关函数与符号" class="headerlink" title="相关函数与符号"></a>相关函数与符号</h4><h5 id="preg-match"><a href="#preg-match" class="headerlink" title="preg_match()"></a><strong>preg_match()</strong></h5><p>第一个参数为正则表达式，第二个参数为要匹配的字符串，第三个参数返回匹配成功的字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$suject &#x3D; &quot;abcdef&quot;;
$pattern &#x3D; &quot;&#x2F;bc&#x2F;&quot;;
$result &#x3D; preg_match($pattern,$suject,$matches);
var_dump($result,$matches);
&#x2F;*D:\wamp64\www\phpReg\regex.php:5:int 1
D:\wamp64\www\phpReg\regex.php:5:
array (size&#x3D;1)
  0 &#x3D;&gt; string &#39;bc&#39; (length&#x3D;2)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id=""><a href="#" class="headerlink" title="^"></a>^</h5><p>以某字符串开始</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;^ab&#x2F;&quot;;&#x2F;&#x2F;以ab开始<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="-1"><a href="#-1" class="headerlink" title="$"></a>$</h5><p>以某字符串结尾</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;ef$&#x2F;&quot;;&#x2F;&#x2F;以ef结尾<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="i"><a href="#i" class="headerlink" title="i"></a>i</h5><p>不区分大小写匹配</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;BC&#x2F;i&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="-2"><a href="#-2" class="headerlink" title="*"></a>*</h5><p>匹配包含0个或者多个某字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;ab*f&#x2F;&quot;; &#x2F;&#x2F;匹配包含0个或者多个b的字符串<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="-3"><a href="#-3" class="headerlink" title="?"></a>?</h5><p>匹配包含0个或者1个某字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;ab?f&#x2F;&quot;; &#x2F;&#x2F;匹配包含0个或者1个b的字符串<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="-4"><a href="#-4" class="headerlink" title="+"></a>+</h5><p>匹配包含至少1个某字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$pattern &#x3D; &quot;&#x2F;ab+f&#x2F;&quot;; &#x2F;&#x2F;匹配包含至少1个b的字符串<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="-5"><a href="#-5" class="headerlink" title="{}"></a>{}</h5><ul>
<li>{n} 正好出现n次</li>
<li>{m,n} 出现m~n次</li>
<li>{m,} m次以上</li>
<li>{1,} 至少一个，相当于+</li>
<li>{0,}0个或多个，相当于*</li>
<li>{0,1} 0个或1个，相当于?</li>
</ul>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><h5 id="手机号"><a href="#手机号" class="headerlink" title="手机号"></a><strong>手机号</strong></h5><p>1开头，第二位为3-9某一个数字，后面9位随机</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str &#x3D; &quot;13328577199&quot;;
$reg &#x3D; &quot;&#x2F;^1[3-9][0-9]&#123;9&#125;$&#x2F;&quot;;
$result &#x3D; preg_match($reg,$str,$matches);
var_dump($result,$matches);
&#x2F;*D:\wamp64\www\phpReg\regex.php:5:int 1
D:\wamp64\www\phpReg\regex.php:5:
array (size&#x3D;1)
  0 &#x3D;&gt; string &#39;13328577199&#39; (length&#x3D;11)*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="用户名"><a href="#用户名" class="headerlink" title="用户名"></a>用户名</h5><p>字母开头，长度介于 5-16 ，允许字母、数字和下划线</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$suject &#x3D; &quot;a0001&quot;;
$pattern &#x3D; &quot;&#x2F;^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$&#x2F;&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="电话号码"><a href="#电话号码" class="headerlink" title="电话号码"></a>电话号码</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php">$suject &#x3D; &quot;029-5580509&quot;;
$pattern &#x3D; &quot;&#x2F;^\d&#123;3,4&#125;-\d&#123;7,8&#125;$&#x2F;&quot;; &#x2F;&#x2F;匹配区号3~4位，电话号码7~8位

$pattern &#x3D; &quot;&#x2F;^\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7,8&#125;$&#x2F;&quot;; &#x2F;&#x2F;3位区号电话号码8位，4位区号电话号码7~8位<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="正则的替代函数"><a href="#正则的替代函数" class="headerlink" title="正则的替代函数"></a>正则的替代函数</h3><p>在处理大量信息时，正则表达式函数会使速度大幅减慢，因此，只有在解析复杂的字符串时才使用正则函数。</p>
<p>解析简单的表达式，采用可以显著加快速处理过程的预定义函数。</p>
<h4 id="explode"><a href="#explode" class="headerlink" title="explode()"></a>explode()</h4><p>根据预定义的定界符分解字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$tels &#x3D; &#39;010-12345678,0592-6666666,021-15643845&#39;;
$arrs&#x3D;explode(&#39;,&#39;,$tels);
var_dump($arrs);
foreach ($arrs as $arr)&#123;
    echo &#39;联系电话：&#39;,$arr,&#39;!&#39;,&#39;&lt;br&gt;&#39;;
&#125;
&#x2F;*D:\wamp64\www\phpReg\regex.php:9:
array (size&#x3D;3)
  0 &#x3D;&gt; string &#39;010-12345678&#39; (length&#x3D;12)
  1 &#x3D;&gt; string &#39;0592-6666666&#39; (length&#x3D;12)
  2 &#x3D;&gt; string &#39;021-15643845&#39; (length&#x3D;12)
联系电话：010-12345678!
联系电话：0592-6666666!
联系电话：021-15643845!*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="implode"><a href="#implode" class="headerlink" title="implode()"></a>implode()</h4><p>将数组转换为字符串</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$tels &#x3D; &#39;010-12345678,0592-6666666,021-15643845&#39;;
$arrs&#x3D;explode(&#39;,&#39;,$tels);&#x2F;&#x2F;以,将字符串分解为数组
$new_tels &#x3D; implode(&#39;$&#39;,$arrs);&#x2F;&#x2F;将数组转换为字符串，用$连接
var_dump($new_tels);
&#x2F;&#x2F;D:\wamp64\www\phpReg\regex.php:15:string &#39;010-12345678$0592-6666666$021-15643845&#39; (length&#x3D;38)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="str-replace"><a href="#str-replace" class="headerlink" title="str_replace()"></a>str_replace()</h4><p>用另外一个字符串替换字符串的所有实例 （ 区分大小写替换）</p>
<h4 id="str-ireplace"><a href="#str-ireplace" class="headerlink" title="str_ireplace()"></a>str_ireplace()</h4><p>用另外一个字符串替换字符串的所有实例 （ 不区分大小写替换）</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str1 &#x3D; &#39;linux,nginx,mysql,php&#39;;
var_dump(str_replace(&#39;nginx&#39;,&#39;apache&#39;,$str1));
&#x2F;*D:\wamp64\www\phpReg\regex.php:20:string &#39;linux,apache,mysql,php&#39; (length&#x3D;22)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="ltrim"><a href="#ltrim" class="headerlink" title="ltrim()"></a>ltrim()</h4><p>从字符串开始裁剪字符串</p>
<h4 id="rtrim"><a href="#rtrim" class="headerlink" title="rtrim()"></a>rtrim()</h4><p>从字符串末尾裁剪字符</p>
<h4 id="trim"><a href="#trim" class="headerlink" title="trim()"></a>trim()</h4><p>从字符串两端裁剪字符</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$str &#x3D; &quot;10001@qq.com&quot;;
echo strstr($str,&quot;@&quot;);&#x2F;&#x2F;@qq.com
echo ltrim(strstr($str,&quot;@&quot;),&#39;@&#39;); &#x2F;&#x2F;qq.com
echo rtrim(strstr($str,&quot;@&quot;),&#39;@&#39;); &#x2F;&#x2F;@qq.com
echo trim(strstr($str,&quot;@&quot;),&#39;@&#39;); &#x2F;&#x2F;qq.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="str-pad"><a href="#str-pad" class="headerlink" title="str_pad()"></a>str_pad()</h4><p>填充字符串</p>
<p>如果没有定义pad_string，则用空格填充，否则用pad_string填充，而且默认情况下填充在右侧。</p>
<p>指定可选参数pad_type为：</p>
<ul>
<li>STR_PAD_RIGHT（默认）</li>
<li> STR_PAD_LEFT（左侧） </li>
<li>STR_PAD_BOTH（两侧）</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;自动填充并且生成学号
&#x2F;&#x2F;创建一个存放学号的空数组
$stu_nos &#x3D; [];
for ($i&#x3D;1;$i&lt;&#x3D;106;$i++)&#123;
    &#x2F;&#x2F;学号以201841054开头进行拼接
    &#x2F;&#x2F;拼接三位尾号，位数不足的从左边开始填充
    $stu_no&#x3D;&#39;201841054&#39;.str_pad($i,3,&#39;0&#39;,STR_PAD_LEFT);
    &#x2F;&#x2F;将拼接完成的学号存入数组
    array_push($stu_nos,$stu_no);
&#125;
var_dump($stu_nos);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;foreach的形式
&#x2F;&#x2F;创建一个存放学号尾号的空数组
$stu_no_arrs &#x3D;[];
&#x2F;&#x2F;用预定义函数向数组内填入数字
$stu_no_arrs &#x3D; range(1,106);
&#x2F;&#x2F;创建一个存放学号的空数组
$stu_no &#x3D; [];
&#x2F;&#x2F;循环遍历预定义好的尾号数组
foreach ($stu_no_arrs as $val)&#123;
    &#x2F;&#x2F;学号以201841054开头进行拼接
    &#x2F;&#x2F;拼接三位尾号，位数不足的从左边开始填充
    $stu_no_arr&#x3D;&#39;201841054&#39;.str_pad($val,3,&#39;0&#39;,STR_PAD_LEFT);
    &#x2F;&#x2F;将拼接完成的学号存入数组
    array_push($stu_no,$stu_no_arr);
&#125;
var_dump($stu_no);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="PHP文件操作"><a href="#PHP文件操作" class="headerlink" title="PHP文件操作"></a>PHP文件操作</h2><h3 id="文件和目录"><a href="#文件和目录" class="headerlink" title="文件和目录"></a>文件和目录</h3><h4 id="解析目录的路径"><a href="#解析目录的路径" class="headerlink" title="解析目录的路径"></a>解析目录的路径</h4><h5 id="basename"><a href="#basename" class="headerlink" title="basename()"></a>basename()</h5><p>获取路径的文件名</p>
<p>返回路径的文件名部分，如果提供了可选参数suffix，当返回文件名包含这个扩展名时将忽略该后缀</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;获取文件的绝对路径
$file &#x3D; __FILE__;
var_dump($file);
&#x2F;&#x2F;获取文件名
var_dump(basename($file));
&#x2F;&#x2F;获取文件名（忽略扩展名）
var_dump(basename($file,&quot;.php&quot;));
&#x2F;*D:\wamp64\www\phpFilesOperated\test.php:4:string &#39;D:\wamp64\www\phpFilesOperated\test.php&#39; (length&#x3D;39)
D:\wamp64\www\phpFilesOperated\test.php:6:string &#39;test.php&#39; (length&#x3D;8)
D:\wamp64\www\phpFilesOperated\test.php:8:string &#39;test&#39; (length&#x3D;4)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="dirname"><a href="#dirname" class="headerlink" title="dirname()"></a>dirname()</h5><p>获取路径的目录</p>
<p>返回路径的目录部分</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;获取文件上一级目录的路径
var_dump(dirname($file));
var_dump(dirname(dirname($file)));
&#x2F;*D:\wamp64\www\phpFilesOperated\test.php:10:string &#39;D:\wamp64\www\phpFilesOperated&#39; (length&#x3D;30)
D:\wamp64\www\phpFilesOperated\test.php:11:string &#39;D:\wamp64\www&#39; (length&#x3D;13)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="pathinfo"><a href="#pathinfo" class="headerlink" title="pathinfo()"></a>pathinfo()</h5><p>以关联数组的形式提供路径的详细信息，将路径解析为4部分：目录名、文件名（含扩展名）、扩展名以及文件名（不含扩展名）。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;以关联数组的形式提供路径的详细信息
var_dump(pathinfo($file));
&#x2F;*D:\wamp64\www\phpFilesOperated\test.php:13:
array (size&#x3D;4)
  &#39;dirname&#39; &#x3D;&gt; string &#39;D:\wamp64\www\phpFilesOperated&#39; (length&#x3D;30)
  &#39;basename&#39; &#x3D;&gt; string &#39;test.php&#39; (length&#x3D;8)
  &#39;extension&#39; &#x3D;&gt; string &#39;php&#39; (length&#x3D;3)
  &#39;filename&#39; &#x3D;&gt; string &#39;test&#39; (length&#x3D;4)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="realpath"><a href="#realpath" class="headerlink" title="realpath()"></a>realpath()</h5><p>获取一个文件的绝对路径</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$path &#x3D; &quot;test.php&quot;;
var_dump(realpath($path));
$path &#x3D; &quot;..&#x2F;test.php&quot;;
var_dump(realpath($path));
&#x2F;*D:\wamp64\www\phpFilesOperated\test.php:17:string &#39;D:\wamp64\www\phpFilesOperated\test.php&#39; (length&#x3D;39)
D:\wamp64\www\phpFilesOperated\test.php:19:string &#39;D:\wamp64\www\test.php&#39; (length&#x3D;22)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="计算文件、目录和磁盘大小"><a href="#计算文件、目录和磁盘大小" class="headerlink" title="计算文件、目录和磁盘大小"></a>计算文件、目录和磁盘大小</h4><h5 id="filesize"><a href="#filesize" class="headerlink" title="filesize()"></a>filesize()</h5><p>返回执行文件的大小，以字节为单位</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$file &#x3D; __FILE__;
var_dump(filesize($file));
var_dump(round(filesize($file)&#x2F;1024,2));&#x2F;&#x2F;单位换算，保留二位小数
&#x2F;*D:\wamp64\www\phpFilesOperated\test.php:22:int 2016
D:\wamp64\www\phpFilesOperated\test.php:23:float 1.97*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="disk-free-space"><a href="#disk-free-space" class="headerlink" title="disk_free_space()"></a>disk_free_space()</h5><p>计算指定目录所在磁盘分区的可用空间（以字节为单位）</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$drive &#x3D; &quot;D:&quot;;
$size &#x3D; round(disk_free_space($drive)&#x2F;(1024*1024*1024),2);&#x2F;&#x2F;GB
var_dump($size);
&#x2F;&#x2F;D:\wamp64\www\phpFilesOperated\test.php:28:float 156.64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="disk-total-space"><a href="#disk-total-space" class="headerlink" title="disk_total_space()"></a>disk_total_space()</h5><p>计算指定目录所在磁盘分区的总容量（以字节为单位）</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$drive &#x3D; &quot;D:&quot;;
$size &#x3D; round(disk_total_space($drive)&#x2F;(1024*1024*1024),2);
var_dump($size);
&#x2F;&#x2F;D:\wamp64\www\phpFilesOperated\test.php:28:float 302.73<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="获取目录大小的函数"><a href="#获取目录大小的函数" class="headerlink" title="获取目录大小的函数"></a>获取目录大小的函数</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;获取一个目录的大小
function dirsize($dir)&#123;
    $dirsize &#x3D; 0;
    &#x2F;&#x2F;打开目录读取内容
    if ($db &#x3D; @opendir($dir))&#123;
        &#x2F;&#x2F;循环处理每个目录
        while ($filename&#x3D;readdir($db))&#123;
            if ($filename&#x3D;&#x3D;&quot;.&quot;||$filename&#x3D;&#x3D;&quot;..&quot;) continue;
            &#x2F;&#x2F;写出每个文件的绝对路径
            $path &#x3D; $dir.&quot;&#x2F;&quot;.$filename;
            &#x2F;&#x2F;累加计算大小
            if (is_file($path))&#123;
                $dirsize+&#x3D;filesize($path);
            &#125;else&#123;
                $dirsize+&#x3D;dirsize($path);
            &#125;
        &#125;
    &#125;
    &#x2F;&#x2F;关闭目录
    @closedir($db);
    &#x2F;&#x2F;返回文件大小
    return $dirsize;
&#125;
$dir &#x3D; &quot;E:\C++&quot;;
var_dump(round(dirsize($dir)&#x2F;1024&#x2F;1024,2));
&#x2F;&#x2F;D:\wamp64\www\phpFilesOperated\test.php:50:float 391.93<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="确定访问和修改时间"><a href="#确定访问和修改时间" class="headerlink" title="确定访问和修改时间"></a>确定访问和修改时间</h4><h5 id="fileatime"><a href="#fileatime" class="headerlink" title="fileatime()"></a>fileatime()</h5><p>返回文件的最后访问时间，返回为unix时间戳格式</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$dir &#x3D; &quot;E:\C++&quot;;
var_dump(fileatime($dir));
&#x2F;&#x2F;格式化输出
echo date(&quot;Y-m-d H:i:s&quot;,(fileatime($dir))).&quot;&lt;br &#x2F;&gt;&quot;;
&#x2F;&#x2F;D:\wamp64\www\phpFilesOperated\test.php:53:int 1552226052
&#x2F;&#x2F;2019-03-10 21:54:12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="filectime"><a href="#filectime" class="headerlink" title="filectime()"></a>filectime()</h5><p>返回文件的最后改变时间，最后改变时间涉及到文件改变权限、所有者、组等特定的信息。返回为unix时间戳格式</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo date(&quot;Y-m-d H:i:s&quot;,(filectime($dir))).&quot;&lt;br &#x2F;&gt;&quot;;
&#x2F;&#x2F;2019-03-10 21:27:49<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="filemtime"><a href="#filemtime" class="headerlink" title="filemtime()"></a>filemtime()</h5><p>返回文件的最后修改时间，是指对文件内容的修改（特别是以字节为单位的文件大小）时间。返回为unix时间戳格式</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">echo date(&quot;Y-m-d H:i:s&quot;,(filemtime($dir))).&quot;&lt;br &#x2F;&gt;&quot;;
&#x2F;&#x2F;2019-03-10 21:54:12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h3><h4 id="打开和关闭文件"><a href="#打开和关闭文件" class="headerlink" title="打开和关闭文件"></a>打开和关闭文件</h4><h5 id="fopen"><a href="#fopen" class="headerlink" title="fopen()"></a>fopen()</h5><ul>
<li>r’ 只读方式打开，将文件指针指向文件头。</li>
<li>‘r+’ 读写方式打开，将文件指针指向文件头。</li>
<li>‘w’ 写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建。</li>
<li>‘w+’ 读写方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建。</li>
<li>‘a’ 写入方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建。</li>
<li>‘a+’ 读写方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建。</li>
<li>‘x’ 创建并以写入方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回 FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建之。这和给 底层的 open(2) 系统调用指定 O_EXCL|O_CREAT 标记是等价的。</li>
<li>‘x+’ 创建并以读写方式打开，其他的行为和 ‘x’ 一样。</li>
</ul>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$handle &#x3D; fopen(&quot;test.log&quot;,&quot;w&quot;);
var_dump($handle);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="fclose"><a href="#fclose" class="headerlink" title="fclose()"></a>fclose()</h5><p>关闭文件</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">fclose($handle);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="读取文件内容"><a href="#读取文件内容" class="headerlink" title="读取文件内容"></a>读取文件内容</h4><h5 id="file-get-contents"><a href="#file-get-contents" class="headerlink" title="file_get_contents()"></a>file_get_contents()</h5><p>将文件内容读入到字符串变量中</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$result &#x3D; file_get_contents(&quot;address.txt&quot;);
var_dump($result);
&#x2F;*D:\wamp64\www\phpFilesOperated\fileOpreated.php:10:string &#39;zhangsan@163.com 010-12345678
lisi@163.com 021-12345678
wangwu@163.com 029-12345678
zhaoliu@163.com 027-12345678&#39; (length&#x3D;115)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>案例</strong></p>
<p>将文本内容格式化输出</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;读取文件address.txt中的内容
$result &#x3D; file_get_contents(&quot;address.txt&quot;);
&#x2F;&#x2F;以换行符号为界拆分文件内容
$users &#x3D; explode(&quot;\n&quot;,$result);
&#x2F;&#x2F;将每行信息都放入一个参数里面
foreach ($users as $user)&#123;
    $line &#x3D; trim($user);
    &#x2F;&#x2F;以空格为界分开单行的字符串
    $arrs &#x3D; explode(&quot; &quot;,$line);
    &#x2F;&#x2F;信息归类
    $email &#x3D; $arrs[0];
    &#x2F;&#x2F;去掉@163.com
    $name &#x3D; rtrim($email,&quot;@163.com&quot;);
    $tel &#x3D; $arrs[1];
    &#x2F;&#x2F;拼串输出内容
    echo &quot;&lt;a href&#x3D;&#39;mailto:$email&#39;&gt;$name(电话：$tel)&lt;&#x2F;a&gt;&quot;.&quot;&lt;br&gt;&quot;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="readfile"><a href="#readfile" class="headerlink" title="readfile()"></a>readfile()</h5><p> 读取整个文件，立即输出到输出缓冲区并返回读取的字节数</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">readfile(&quot;address.txt&quot;);
&#x2F;&#x2F;zhangsan@163.com 010-12345678 lisi@163.com 021-12345678 wangwu@163.com 029-12345678 zhaoliu@163.com 027-12345678
readfile(&quot;http:&#x2F;&#x2F;www.baidu.com&quot;);
&#x2F;&#x2F;读取一个网络连接会直接显示该页面（如HTML的iframe标签）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="写入文件内容"><a href="#写入文件内容" class="headerlink" title="写入文件内容"></a>写入文件内容</h4><h5 id="fwrite"><a href="#fwrite" class="headerlink" title="fwrite()"></a>fwrite()</h5><p>可以将字符串写入已经打开的文件中</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$info &#x3D; &quot;写入文件&quot;;
&#x2F;&#x2F;a+表示以追加的方式写入
$dh &#x3D; fopen(&quot;test.txt&quot;,&quot;a+&quot;);
fwrite($dh,$info);
fclose($dh);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="file-put-contents"><a href="#file-put-contents" class="headerlink" title="file_put_contents()"></a>file_put_contents()</h5><p>以一种更简便的方式将字符串写入文件</p>
<p>参数：<br>    file 必须。规定要写入数据的文件，若不存在则创建</p>
<p>​    data 可选。规定要写入文件的数据，可以是字符串、数组或者数据流。</p>
<p>​    flags 可选。规定如何打开/写入文件</p>
<p>​        可能的值：FILE_USE_INCLUDE_PATH（覆写）</p>
<p>​                            FILE_APPEND（追加）</p>
<p>​                            LOCK_EX（排他锁）用于两个语句在同时操作一个文件内容时，在执行有该锁的语句时，其他的语句先不执行。</p>
<p>​    context 可选。规定文件句柄的环境。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;LOCK_EX排他锁，当前语句在进行时，停止其他语句对该文件的操作
$result &#x3D; file_put_contents(&quot;test.log&quot;,&quot;写入内容&quot;,FILE_APPEND|LOCK_EX);
var_dump($result);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h4><h5 id="unlink"><a href="#unlink" class="headerlink" title="unlink()"></a>unlink()</h5><p>可以在开头添加错误抑制符@，当删除一个文件后，再次删除该文件就不会报错了。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">@unlink(&quot;test.log&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="目录处理"><a href="#目录处理" class="headerlink" title="目录处理"></a>目录处理</h3><h4 id="打开和关闭目录"><a href="#打开和关闭目录" class="headerlink" title="打开和关闭目录"></a>打开和关闭目录</h4><h5 id="opendir"><a href="#opendir" class="headerlink" title="opendir()"></a>opendir()</h5><p>打开目录</p>
<h5 id="closedir"><a href="#closedir" class="headerlink" title="closedir()"></a>closedir()</h5><p>关闭目录</p>
<h5 id="readdir"><a href="#readdir" class="headerlink" title="readdir()"></a>readdir()</h5><p>读取目录</p>
<p>返回给定目录中所有的文件和子目录，还返回一般在unix目录列表中常见的”.“和”..“项，需要过滤掉</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$dir &#x3D; dirname(__FILE__);
$dh &#x3D; opendir($dir);
while($file &#x3D; readdir($dh))&#123;
echo $file . &quot;&lt;br &#x2F;&gt;&quot;;
&#125;
closedir($dh);
&#x2F;*.
..
Dev-Cpp
pconline1545983763723.exe*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="scandir"><a href="#scandir" class="headerlink" title="scandir()"></a>scandir()</h5><p>将目录读入数组中</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">$dir &#x3D; &quot;E:\C++&quot;;
$result &#x3D; scandir($dir);
var_dump($result);
&#x2F;*D:\wamp64\www\phpFilesOperated\fileOpreated.php:49:
array (size&#x3D;4)
  0 &#x3D;&gt; string &#39;.&#39; (length&#x3D;1)
  1 &#x3D;&gt; string &#39;..&#39; (length&#x3D;2)
  2 &#x3D;&gt; string &#39;Dev-Cpp&#39; (length&#x3D;7)
  3 &#x3D;&gt; string &#39;pconline1545983763723.exe&#39; (length&#x3D;25)*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="创建、删除、移动、重命名目录"><a href="#创建、删除、移动、重命名目录" class="headerlink" title="创建、删除、移动、重命名目录"></a>创建、删除、移动、重命名目录</h4><h5 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir()"></a>mkdir()</h5><p>创建目录</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">if (!is_dir(&quot;test2&quot;))&#123;
    mkdir(&quot;test2&quot;);
    &#x2F;&#x2F;创建多级目录时，要保证上一级目录存在，否则要先创建
    mkdir(&quot;test2&#x2F;test1&quot;);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;可以通过设置参数来一次性创建多级目录，并且赋予相对应的权限
mkdir(&#39;test&#x2F;test&#x2F;test&#39;,777,true);

&#x2F;&#x2F;在目录中创建一个文件
$fh &#x3D; fopen(&quot;test&#x2F;test&#x2F;test&#x2F;test.txt&quot;,&quot;w&quot;);
fwrite($fh,&quot;aaa&quot;);
fclose($fh);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir()"></a>rmdir()</h5><p>删除目录</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;在删除一个目录时要保证该目录内为空，否则会报错
&#x2F;&#x2F;rmdir(&quot;test&#x2F;test&quot;);

unlink(&quot;test&#x2F;test&#x2F;test&#x2F;test.txt&quot;);
rmdir(&quot;test&#x2F;test&#x2F;test&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="rename"><a href="#rename" class="headerlink" title="rename()"></a>rename()</h5><p>移动（重命名）目录以及文件</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;将&#x2F;test下的test文件夹重命名为test2
rename(&quot;test&#x2F;test&quot;,&quot;test&#x2F;test2&quot;);
&#x2F;&#x2F;将&#x2F;test下的test.txt文件移动到&#x2F;test1中并且重命名为test2.txt
rename(&quot;test&#x2F;test.txt&quot;,&quot;test1&#x2F;test2.txt&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><h4 id="HTTP表单协议要求"><a href="#HTTP表单协议要求" class="headerlink" title="HTTP表单协议要求"></a>HTTP表单协议要求</h4><ol>
<li>action中要指向处理的页面</li>
<li>enctype要设置为multipart/form-data</li>
<li>method要设置为post</li>
</ol>
<pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;form action&#x3D;&quot;doupload.php&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot; method&#x3D;&quot;post&quot;&gt;
    &lt;!--使用该隐藏域能在前端页面表单提交时就给提交的文件加以限制--&gt;
    &lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;MAX_FILE_SIZE&quot; value&#x3D;&quot;204800&quot;&gt;
    &lt;!--设置input类型为file用于存放文件，name中的属性为后台获取文件的索引--&gt;
    &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;upload&quot; &#x2F;&gt;
    &lt;input type&#x3D;&quot;submit&quot;&gt;
&lt;&#x2F;form&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="PHP文件上传处理"><a href="#PHP文件上传处理" class="headerlink" title="PHP文件上传处理"></a>PHP文件上传处理</h4><h5 id="php-ini配置"><a href="#php-ini配置" class="headerlink" title="php.ini配置"></a>php.ini配置</h5><p><strong>file_uploads = On/off</strong> </p>
<p>是否可以接受文件上传</p>
<p><strong>max_input_time = 60</strong> </p>
<p>在提示错误之前解析输入所花费的最长时间，以秒为单位，如果经常需要</p>
<p>传输大文件，这个时限应该设置得合理一些。</p>
<p><strong>max_file_uploads = 20</strong></p>
<p>对可以同时上传的文件数设置了一个上限</p>
<p><strong>memory_limit = 128M</strong></p>
<p>设置脚本可以分配的最大内存，可以防止脚本独占服务器内容，甚至导致</p>
<p>服务器崩溃。</p>
<p><strong>post_max_size = 8M</strong></p>
<p>对通过post方法提交的数据大小设置了一个限制。</p>
<p><strong>upload_max_filesize = 2M</strong></p>
<p>限定上传文件的最大大小，以MB为单位，该值必须小于post_max_size。</p>
<p><strong>upload_tmp_dir =”E:/wampserver/tmp”</strong> </p>
<p>文件上传的临时目录</p>
<h5 id="文件信息抓取"><a href="#文件信息抓取" class="headerlink" title="文件信息抓取"></a>文件信息抓取</h5><p>可以使用超全局变量**$_FILES**来获取到前端页面上传的文件</p>
<p><strong>$_FILES</strong>是关联数组的形式返回文件信息</p>
<ul>
<li><p>$_FILES[“upload”][“name”] 上传文件名（含扩展名）</p>
</li>
<li><p>$_FILES[“upload”][“type”] 上传文件的MIME类型，这个值有时会产生意外结果，建议通过文件扩展名来显式验证</p>
</li>
<li><p>$_FILES[“upload”][“tmpname”] 存储在临时目录中的文件名</p>
</li>
<li><p>$_FILES[“upload”][“size”] 上传文件的大小，以字节为单位</p>
</li>
<li><p>$_FILES[“upload”][“error”] 上传结果</p>
<ul>
<li><p>UPLOAD_ERR_OK 上传成功 ，则返回0 </p>
</li>
<li><p>UPLOAD_ERR_INI_SIZE 超出upload_max_filesize大小 ，则返回1 </p>
</li>
<li><p>UPLOAD_ERR_FORM_SIZE 超出嵌入在HTML表单中的max_file_size大小，其中max_file_size可能会被黑客修改，所以不建议使用。此时返回2 </p>
</li>
<li><p>UPLOAD_ERR_PARTIAL 文件没有完全上传，一般在发生网络错误时会出现，则返回3 </p>
</li>
<li><p>UPLOAD_ERR_NO_FILE 用户没有指定上传文件就提交表单，则返回4 </p>
</li>
<li><p>UPLOAD_ERR_NO_TMP_DIR 临时目录不存在，则返回6 </p>
</li>
<li><p>UPLOAD_ERR_CANT_WRITE 如果文件无法写入磁盘，则返回7 </p>
</li>
<li><p>UPLOAD_ERR_EXTENSION 如果PHP的配置问题导致上传失败，则返回8</p>
</li>
</ul>
</li>
</ul>
<h5 id="文件上传函数"><a href="#文件上传函数" class="headerlink" title="文件上传函数"></a>文件上传函数</h5><p><strong>is_uploaded_file()</strong></p>
<p>判断文件是否使用POST上传并且已经上传</p>
<p><strong>move_uploaded_file()</strong></p>
<p>自动检查文件确实是通过HTTP POST机制上传的，如果指定的文件未上传，则移动失败，返回false。</p>
<p>在使用该函数时可以不必使用is_uploaded_file() 进行判断</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
    var_dump($_FILES);
    var_dump($_FILES[&#39;upload&#39;][&#39;name&#39;]);

    if (move_uploaded_file($_FILES[&#39;upload&#39;][&#39;tmp_name&#39;],&#39;test&#x2F;&#39;.$_FILES[&#39;upload&#39;][&#39;name&#39;]))&#123;
        echo &quot;上传成功&quot;;
    &#125;else&#123;
        echo &quot;上传失败&quot;;
    &#125;

&#x2F;*D:\wamp64\www\phpBasics\phpFilesOperated\doupload.php:2:
array (size&#x3D;1)
  &#39;upload&#39; &#x3D;&gt; 
    array (size&#x3D;5)
      &#39;name&#39; &#x3D;&gt; string &#39;网盘.txt&#39; (length&#x3D;10)
      &#39;type&#39; &#x3D;&gt; string &#39;text&#x2F;plain&#39; (length&#x3D;10)
      &#39;tmp_name&#39; &#x3D;&gt; string &#39;D:\wamp64\tmp\php8C4D.tmp&#39; (length&#x3D;25)
      &#39;error&#39; &#x3D;&gt; int 0
      &#39;size&#39; &#x3D;&gt; int 118
D:\wamp64\www\phpBasics\phpFilesOperated\doupload.php:3:string &#39;网盘.txt&#39; (length&#x3D;10)
上传成功*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="移动已上传的文件"><a href="#移动已上传的文件" class="headerlink" title="移动已上传的文件"></a>移动已上传的文件</h5><p>在实际项目中文件上传需要改名</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&#x2F;&#x2F;确保文件上传后不会覆盖掉前面的文件
$fileName &#x3D; $_FILES[&#39;upload&#39;][&#39;name&#39;];
&#x2F;&#x2F;获取文件拓展名
$ext &#x3D; pathinfo($fileName,PATHINFO_EXTENSION);
&#x2F;&#x2F;给一个随机的新名字
$randFileName &#x3D; date(&#39;YmdHis&#39;).rand(10000,99999);
&#x2F;&#x2F;名字拼接
$newFileName &#x3D; $randFileName . &quot;.&quot; . $ext;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="多文件上传"><a href="#多文件上传" class="headerlink" title="多文件上传"></a>多文件上传</h5><p>多文件上传处理较复杂，可以使用多文件上传处理类，比较少用</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--一次选择多个文件--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload[]<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multiple<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> 
<span class="token comment">&lt;!--或每次选择一个文件--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload[]<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload[]<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="PHP文件下载处理"><a href="#PHP文件下载处理" class="headerlink" title="PHP文件下载处理"></a>PHP文件下载处理</h4><h5 id="显示内容和下载文件"><a href="#显示内容和下载文件" class="headerlink" title="显示内容和下载文件"></a>显示内容和下载文件</h5><p>可以通过超链接的href属性来获取文件</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--会显示文件内容，而不是下载--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.rar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>下载1.rar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>下载1.jpg<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>下载1.txt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileupload.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>下载1.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token comment">&lt;!--通过PHP处理页面下载文件--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test/201841054092吴炜瀚.docx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>作业<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test2/test1/test.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--以GET的方式传给服务器要下载的文件名--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>doDownLoad.php?filename=test.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试下载<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="PHP处理页面"><a href="#PHP处理页面" class="headerlink" title="PHP处理页面"></a>PHP处理页面</h5><p>较为固定的写法</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?php
&#x2F;&#x2F;获取要下载的文件名
$filename &#x3D; $_GET[&#39;filename&#39;];
&#x2F;&#x2F;必须。下载的文件内容的配置为附件，设置要下载的文件名
header(&#39;content-disposition:attachment;filename&#x3D;&#39; . basename($filename));
&#x2F;&#x2F;可选。显示要下载的文件的大小
header(&#39;content-length:&#39; . filesize($filename));
&#x2F;&#x2F;可选。读取整个文件，立即输出到输出缓冲区并返回读取的字节数
readfile($filename);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Weihan Wu</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2022/05/16/php/">http://example.com/2022/05/16/php/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Weihan Wu</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                                    <span class="chip bg-color">学习笔记</span>
                                </a>
                            
                                <a href="/tags/PHP/">
                                    <span class="chip bg-color">PHP</span>
                                </a>
                            
                                <a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">
                                    <span class="chip bg-color">后端开发</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/05/16/thinkphp/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="Think PHP5.1">
                        
                        <span class="card-title">Think PHP5.1</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ThinkPHP是一个免费开源的，快速、简单的面向对象的轻量级PHP开发框架，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-05-16
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/PHP/" class="post-category">
                                    PHP
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">学习笔记</span>
                    </a>
                    
                    <a href="/tags/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">框架学习</span>
                    </a>
                    
                    <a href="/tags/PHP/">
                        <span class="chip bg-color">PHP</span>
                    </a>
                    
                    <a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">
                        <span class="chip bg-color">后端开发</span>
                    </a>
                    
                    <a href="/tags/Think-PHP/">
                        <span class="chip bg-color">Think PHP</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/05/16/webpack/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="Webpack">
                        
                        <span class="card-title">Webpack</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            webpack是一个现代的Javascript应用的静态模块打包工具，能在模块化开发时帮助我们处理模块间的依赖关系。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-05-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/JavaScript/" class="post-category">
                                    JavaScript
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/JavaScript/">
                        <span class="chip bg-color">JavaScript</span>
                    </a>
                    
                    <a href="/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">
                        <span class="chip bg-color">前端工程化</span>
                    </a>
                    
                    <a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">
                        <span class="chip bg-color">前端开发</span>
                    </a>
                    
                    <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">学习笔记</span>
                    </a>
                    
                    <a href="/tags/Webpack/">
                        <span class="chip bg-color">Webpack</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">Weihan Wu</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">165.3k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/weihan-wu" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:904698202@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=904698202" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 904698202" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
